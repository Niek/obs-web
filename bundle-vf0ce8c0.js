var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let i,c;function a(e,t){return i||(i=document.createElement("a")),i.href=t,e===i.href}function l(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function d(e){e.parentNode.removeChild(e)}function f(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function p(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function h(e){return document.createTextNode(e)}function g(){return h(" ")}function C(){return h("")}function v(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function w(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function b(e,t){e.value=null==t?"":t}function $(e,t,n,o){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function S(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}e.selectedIndex=-1}function k(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function L(e,t,n){e.classList[n?"add":"remove"](t)}function M(e){c=e}function x(){if(!c)throw new Error("Function called outside component initialization");return c}function N(e){x().$$.on_mount.push(e)}function _(){const e=x();return(t,n,{cancelable:o=!1}={})=>{const r=e.$$.callbacks[t];if(r){const s=function(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,o,t),r}(t,n,{cancelable:o});return r.slice().forEach((t=>{t.call(e,s)})),!s.defaultPrevented}return!0}}const H=[],I=[],E=[],F=[],V=Promise.resolve();let P=!1;function O(e){E.push(e)}const T=new Set;let B=0;function R(){const e=c;do{for(;B<H.length;){const e=H[B];B++,M(e),A(e.$$)}for(M(null),H.length=0,B=0;I.length;)I.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];T.has(t)||(T.add(t),t())}E.length=0}while(H.length);for(;F.length;)F.pop()();P=!1,T.clear(),M(e)}function A(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(O)}}const j=new Set;let q;function z(){q={r:0,c:[],p:q}}function D(){q.r||o(q.c),q=q.p}function G(e,t){e&&e.i&&(j.delete(e),e.i(t))}function W(e,t,n,o){if(e&&e.o){if(j.has(e))return;j.add(e),q.c.push((()=>{j.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const Z="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function U(e){e&&e.c()}function J(e,n,s,i){const{fragment:c,on_mount:a,on_destroy:l,after_update:u}=e.$$;c&&c.m(n,s),i||O((()=>{const n=a.map(t).filter(r);l?l.push(...n):o(n),e.$$.on_mount=[]})),u.forEach(O)}function Y(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function X(e,t){-1===e.$$.dirty[0]&&(H.push(e),P||(P=!0,V.then(R)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function K(t,r,s,i,a,l,u,f=[-1]){const m=c;M(t);const p=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(m?m.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:r.target||m.$$.root};u&&u(p.root);let h=!1;if(p.ctx=s?s(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&a(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),h&&X(t,e)),n})):[],p.update(),h=!0,o(p.before_update),p.fragment=!!i&&i(p.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);p.fragment&&p.fragment.l(e),e.forEach(d)}else p.fragment&&p.fragment.c();r.intro&&G(t.$$.fragment),J(t,r.target,r.anchor,r.customElement),R()}M(m)}class Q{$destroy(){Y(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var ee="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z",te="M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z",ne="M22.7 14.3L21.7 15.3L19.7 13.3L20.7 12.3C20.8 12.2 20.9 12.1 21.1 12.1C21.2 12.1 21.4 12.2 21.5 12.3L22.8 13.6C22.9 13.8 22.9 14.1 22.7 14.3M13 19.9V22H15.1L21.2 15.9L19.2 13.9L13 19.9M21 5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H11V19.1L12.1 18H5L8.5 13.5L11 16.5L14.5 12L16.1 14.1L21 9.1V5Z",oe="M22.7 14.3L21.7 15.3L19.7 13.3L20.7 12.3C20.8 12.2 20.9 12.1 21.1 12.1C21.2 12.1 21.4 12.2 21.5 12.3L22.8 13.6C22.9 13.8 22.9 14.1 22.7 14.3M13 19.9V22H15.1L21.2 15.9L19.2 13.9L13 19.9M11.21 15.83L9.25 13.47L6.5 17H13.12L15.66 14.55L13.96 12.29L11.21 15.83M11 19.9V19.05L11.05 19H5V5H19V11.31L21 9.38V5C21 3.9 20.11 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H11V19.9Z",re="M22 12C22 6.46 17.54 2 12 2C10.83 2 9.7 2.19 8.62 2.56L9.32 4.5C10.17 4.16 11.06 3.97 12 3.97C16.41 3.97 20.03 7.59 20.03 12C20.03 16.41 16.41 20.03 12 20.03C7.59 20.03 3.97 16.41 3.97 12C3.97 11.06 4.16 10.12 4.5 9.28L2.56 8.62C2.19 9.7 2 10.83 2 12C2 17.54 6.46 22 12 22C17.54 22 22 17.54 22 12M5.47 3.97C6.32 3.97 7 4.68 7 5.47C7 6.32 6.32 7 5.47 7C4.68 7 3.97 6.32 3.97 5.47C3.97 4.68 4.68 3.97 5.47 3.97M18 12C18 8.67 15.33 6 12 6C8.67 6 6 8.67 6 12C6 15.33 8.67 18 12 18C15.33 18 18 15.33 18 12M15 12L10 15V9",se="M10 16.5L16 12L10 7.5M22 12C22 6.46 17.54 2 12 2C10.83 2 9.7 2.19 8.62 2.56L9.32 4.5C10.17 4.16 11.06 3.97 12 3.97C16.41 3.97 20.03 7.59 20.03 12C20.03 16.41 16.41 20.03 12 20.03C7.59 20.03 3.97 16.41 3.97 12C3.97 11.06 4.16 10.12 4.5 9.28L2.56 8.62C2.19 9.7 2 10.83 2 12C2 17.54 6.46 22 12 22C17.54 22 22 17.54 22 12M5.47 3.97C6.32 3.97 7 4.68 7 5.47C7 6.32 6.32 7 5.47 7C4.68 7 3.97 6.32 3.97 5.47C3.97 4.68 4.68 3.97 5.47 3.97Z",ie="M19.5 8C21.43 8 23 6.43 23 4.5C23 2.57 21.43 1 19.5 1C17.57 1 16 2.57 16 4.5C16 6.43 17.57 8 19.5 8M19.5 10C20 10 20.5 9.93 21 9.79V16C21 18.76 18.76 21 16 21H8C5.24 21 3 18.76 3 16V8C3 5.24 5.24 3 8 3H14.21C14.07 3.5 14 4 14 4.5C14 7.54 16.46 10 19.5 10Z",ce="M19.5 8C21.43 8 23 6.43 23 4.5C23 2.57 21.43 1 19.5 1C17.57 1 16 2.57 16 4.5C16 6.43 17.57 8 19.5 8M21 16V9.79C20.5 9.93 20 10 19.5 10C19.33 10 19.17 10 19 10V16C19 17.66 17.66 19 16 19H8C6.34 19 5 17.66 5 16V8C5 6.34 6.34 5 8 5H14C14 4.84 14 4.67 14 4.5C14 4 14.07 3.5 14.21 3H8C5.24 3 3 5.24 3 8V16C3 18.76 5.24 21 8 21H16C18.76 21 21 18.76 21 16Z";function ae(e){let t,n;return{c(){t=p("title"),n=h(e[2])},m(e,o){u(e,t,o),l(t,n)},p(e,t){4&t&&y(n,e[2])},d(e){e&&d(t)}}}function le(e){let t;return{c(){t=p("path"),w(t,"d",e[0])},m(e,n){u(e,t,n)},p(e,n){1&n&&w(t,"d",e[0])},d(e){e&&d(t)}}}function ue(e){let t,n,o;function r(e,t){return e[3]?fe:de}let s=r(e),i=s(e);return{c(){i.c(),t=p("g"),n=p("path"),w(n,"d",e[0]),w(t,"style",o=`animation: ${e[5]} linear ${e[6]}s infinite; transform-origin: center`)},m(e,o){i.m(e,o),u(e,t,o),l(t,n)},p(e,c){s!==(s=r(e))&&(i.d(1),i=s(e),i&&(i.c(),i.m(t.parentNode,t))),1&c&&w(n,"d",e[0]),96&c&&o!==(o=`animation: ${e[5]} linear ${e[6]}s infinite; transform-origin: center`)&&w(t,"style",o)},d(e){i.d(e),e&&d(t)}}}function de(e){let t,n;return{c(){t=p("style"),n=h("@keyframes spin { to { transform: rotate(360deg) } }")},m(e,o){u(e,t,o),l(t,n)},d(e){e&&d(t)}}}function fe(e){let t,n;return{c(){t=p("style"),n=h("@keyframes spin-inverse { to { transform: rotate(-360deg) } }")},m(e,o){u(e,t,o),l(t,n)},d(e){e&&d(t)}}}function me(t){let n,o,r=t[2]&&ae(t);function s(e,t){return!1!==e[1]?ue:le}let i=s(t),c=i(t);return{c(){n=p("svg"),r&&r.c(),o=C(),c.c(),w(n,"viewBox","0 0 24 24"),w(n,"style",t[4]),w(n,"class","svelte-dmmfjb")},m(e,t){u(e,n,t),r&&r.m(n,null),l(n,o),c.m(n,null)},p(e,[t]){e[2]?r?r.p(e,t):(r=ae(e),r.c(),r.m(n,o)):r&&(r.d(1),r=null),i===(i=s(e))&&c?c.p(e,t):(c.d(1),c=i(e),c&&(c.c(),c.m(n,null))),16&t&&w(n,"style",e[4])},i:e,o:e,d(e){e&&d(n),r&&r.d(),c.d()}}}function pe(e,t,n){let o,r,s,i,{path:c}=t,{size:a=1}=t,{color:l=null}=t,{flip:u=null}=t,{rotate:d=0}=t,{spin:f=!1}=t,{title:m=""}=t;Number(a)&&(a=Number(a));return e.$$set=e=>{"path"in e&&n(0,c=e.path),"size"in e&&n(7,a=e.size),"color"in e&&n(8,l=e.color),"flip"in e&&n(9,u=e.flip),"rotate"in e&&n(10,d=e.rotate),"spin"in e&&n(1,f=e.spin),"title"in e&&n(2,m=e.title)},e.$$.update=()=>{2&e.$$.dirty&&n(3,o="boolean"!=typeof f&&f<0),2&e.$$.dirty&&n(6,r=Math.abs(!0===f?2:f)),8&e.$$.dirty&&n(5,s=o?"spin-inverse":"spin"),1920&e.$$.dirty&&n(4,i=(()=>{const e=[],t=[];if(null!==a){const e="string"==typeof a?a:1.5*a+"rem";t.push(["width",e]),t.push(["height",e])}return t.push(["fill",null!==l?l:"currentColor"]),!0!==u&&"h"!==u||e.push("scaleX(-1)"),!0!==u&&"v"!==u||e.push("scaleY(-1)"),0!=d&&e.push(`rotate(${d}deg)`),e.length>0&&(t.push(["transform",e.join(" ")]),t.push(["transform-origin","center"])),t.reduce(((e,t)=>`${e} ${t[0]}:${t[1]};`),"")})())},[c,f,m,o,i,s,r,a,l,u,d]}class he extends Q{constructor(e){super(),K(this,e,pe,me,s,{path:0,size:7,color:8,flip:9,rotate:10,spin:1,title:2})}}const ge=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,Ce=e=>{if("string"!=typeof e)throw new TypeError("Invalid argument expected string");const t=e.match(ge);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},ve=e=>"*"===e||"x"===e||"X"===e,we=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},ye=(e,t)=>{if(ve(e)||ve(t))return 0;const[n,o]=((e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t])(we(e),we(t));return n>o?1:n<o?-1:0},be=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const o=ye(e[n]||"0",t[n]||"0");if(0!==o)return o}return 0};var $e="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function Se(){throw new Error("setTimeout has not been defined")}function ke(){throw new Error("clearTimeout has not been defined")}var Le=Se,Me=ke;function xe(e){if(Le===setTimeout)return setTimeout(e,0);if((Le===Se||!Le)&&setTimeout)return Le=setTimeout,setTimeout(e,0);try{return Le(e,0)}catch(t){try{return Le.call(null,e,0)}catch(t){return Le.call(this,e,0)}}}"function"==typeof $e.setTimeout&&(Le=setTimeout),"function"==typeof $e.clearTimeout&&(Me=clearTimeout);var Ne,_e=[],He=!1,Ie=-1;function Ee(){He&&Ne&&(He=!1,Ne.length?_e=Ne.concat(_e):Ie=-1,_e.length&&Fe())}function Fe(){if(!He){var e=xe(Ee);He=!0;for(var t=_e.length;t;){for(Ne=_e,_e=[];++Ie<t;)Ne&&Ne[Ie].run();Ie=-1,t=_e.length}Ne=null,He=!1,function(e){if(Me===clearTimeout)return clearTimeout(e);if((Me===ke||!Me)&&clearTimeout)return Me=clearTimeout,clearTimeout(e);try{Me(e)}catch(t){try{return Me.call(null,e)}catch(t){return Me.call(this,e)}}}(e)}}function Ve(e,t){this.fun=e,this.array=t}Ve.prototype.run=function(){this.fun.apply(null,this.array)};function Pe(){}var Oe=Pe,Te=Pe,Be=Pe,Re=Pe,Ae=Pe,je=Pe,qe=Pe;var ze=$e.performance||{},De=ze.now||ze.mozNow||ze.msNow||ze.oNow||ze.webkitNow||function(){return(new Date).getTime()};var Ge=new Date;var We={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];_e.push(new Ve(e,t)),1!==_e.length||He||xe(Fe)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Oe,addListener:Te,once:Be,off:Re,removeListener:Ae,removeAllListeners:je,emit:qe,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*De.call(ze),n=Math.floor(t),o=Math.floor(t%1*1e9);return e&&(n-=e[0],(o-=e[1])<0&&(n--,o+=1e9)),[n,o]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Ge)/1e3}},Ze="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ue(e){var t=e.default;if("function"==typeof t){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})})),n}var Je={exports:{}},Ye=1e3,Xe=60*Ye,Ke=60*Xe,Qe=24*Ke,et=7*Qe,tt=365.25*Qe,nt=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*tt;case"weeks":case"week":case"w":return n*et;case"days":case"day":case"d":return n*Qe;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Ke;case"minutes":case"minute":case"mins":case"min":case"m":return n*Xe;case"seconds":case"second":case"secs":case"sec":case"s":return n*Ye;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=Qe)return ot(e,t,Qe,"day");if(t>=Ke)return ot(e,t,Ke,"hour");if(t>=Xe)return ot(e,t,Xe,"minute");if(t>=Ye)return ot(e,t,Ye,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=Qe)return Math.round(e/Qe)+"d";if(t>=Ke)return Math.round(e/Ke)+"h";if(t>=Xe)return Math.round(e/Xe)+"m";if(t>=Ye)return Math.round(e/Ye)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function ot(e,t,n,o){var r=t>=1.5*n;return Math.round(e/n)+" "+o+(r?"s":"")}var rt=function(e){function t(e){let o,r,s,i=null;function c(...e){if(!c.enabled)return;const n=c,r=Number(new Date),s=r-(o||r);n.diff=s,n.prev=o,n.curr=r,o=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((o,r)=>{if("%%"===o)return"%";i++;const s=t.formatters[r];if("function"==typeof s){const t=e[i];o=s.call(n,t),e.splice(i,1),i--}return o})),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return c.namespace=e,c.useColors=t.useColors(),c.color=t.selectColor(e),c.extend=n,c.destroy=t.destroy,Object.defineProperty(c,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(r!==t.namespaces&&(r=t.namespaces,s=t.enabled(e)),s),set:e=>{i=e}}),"function"==typeof t.init&&t.init(c),c}function n(e,n){const o=t(this.namespace+(void 0===n?":":n)+e);return o.log=this.log,o}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const o=("string"==typeof e?e:"").split(/[\s,]+/),r=o.length;for(n=0;n<r;n++)o[n]&&("-"===(e=o[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,o;for(n=0,o=t.skips.length;n<o;n++)if(t.skips[n].test(e))return!1;for(n=0,o=t.names.length;n<o;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=nt,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t};!function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let o=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(o++,"%c"===e&&(r=o))})),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==We&&"env"in We&&(e=We.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=rt(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(Je,Je.exports);var st=Je.exports,it={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function o(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,o,s,i){if("function"!=typeof o)throw new TypeError("The listener must be a function");var c=new r(o,s||e,i),a=n?n+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],c]:e._events[a].push(c):(e._events[a]=c,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),c.prototype.eventNames=function(){var e,o,r=[];if(0===this._eventsCount)return r;for(o in e=this._events)t.call(e,o)&&r.push(n?o.slice(1):o);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},c.prototype.listeners=function(e){var t=n?n+e:e,o=this._events[t];if(!o)return[];if(o.fn)return[o.fn];for(var r=0,s=o.length,i=new Array(s);r<s;r++)i[r]=o[r].fn;return i},c.prototype.listenerCount=function(e){var t=n?n+e:e,o=this._events[t];return o?o.fn?1:o.length:0},c.prototype.emit=function(e,t,o,r,s,i){var c=n?n+e:e;if(!this._events[c])return!1;var a,l,u=this._events[c],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,o),!0;case 4:return u.fn.call(u.context,t,o,r),!0;case 5:return u.fn.call(u.context,t,o,r,s),!0;case 6:return u.fn.call(u.context,t,o,r,s,i),!0}for(l=1,a=new Array(d-1);l<d;l++)a[l-1]=arguments[l];u.fn.apply(u.context,a)}else{var f,m=u.length;for(l=0;l<m;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,o);break;case 4:u[l].fn.call(u[l].context,t,o,r);break;default:if(!a)for(f=1,a=new Array(d-1);f<d;f++)a[f-1]=arguments[f];u[l].fn.apply(u[l].context,a)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,o,r){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var c=this._events[s];if(c.fn)c.fn!==t||r&&!c.once||o&&c.context!==o||i(this,s);else{for(var a=0,l=[],u=c.length;a<u;a++)(c[a].fn!==t||r&&!c[a].once||o&&c[a].context!==o)&&l.push(c[a]);l.length?this._events[s]=1===l.length?l[0]:l:i(this,s)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c}(it);var ct=it.exports,at=null;"undefined"!=typeof WebSocket?at=WebSocket:"undefined"!=typeof MozWebSocket?at=MozWebSocket:void 0!==Ze?at=Ze.WebSocket||Ze.MozWebSocket:"undefined"!=typeof window?at=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(at=self.WebSocket||self.MozWebSocket);var lt=at,ut={exports:{}};var dt,ft={exports:{}},mt=Ue(Object.freeze({__proto__:null,default:{}}));ft.exports=(dt=dt||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==Ze&&Ze.crypto&&(n=Ze.crypto),!n)try{n=mt}catch(e){}var o=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},i=s.lib={},c=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=c.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,o=this.sigBytes,r=e.sigBytes;if(this.clamp(),o%4)for(var s=0;s<r;s++){var i=n[s>>>2]>>>24-s%4*8&255;t[o+s>>>2]|=i<<24-(o+s)%4*8}else for(var c=0;c<r;c+=4)t[o+c>>>2]=n[c>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(o());return new a.init(t,e)}}),l=s.enc={},u=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],r=0;r<n;r++){var s=t[r>>>2]>>>24-r%4*8&255;o.push((s>>>4).toString(16)),o.push((15&s).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o+=2)n[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new a.init(n,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,o=[],r=0;r<n;r++){var s=t[r>>>2]>>>24-r%4*8&255;o.push(String.fromCharCode(s))}return o.join("")},parse:function(e){for(var t=e.length,n=[],o=0;o<t;o++)n[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new a.init(n,t)}},f=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},m=i.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,o=this._data,r=o.words,s=o.sigBytes,i=this.blockSize,c=s/(4*i),l=(c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0))*i,u=e.min(4*l,s);if(l){for(var d=0;d<l;d+=i)this._doProcessBlock(r,d);n=r.splice(0,l),o.sigBytes-=u}return new a.init(n,u)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=m.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=s.algo={};return s}(Math),dt),function(e,t){e.exports=function(e){return function(t){var n=e,o=n.lib,r=o.WordArray,s=o.Hasher,i=n.algo,c=[],a=[];!function(){function e(e){for(var n=t.sqrt(e),o=2;o<=n;o++)if(!(e%o))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var o=2,r=0;r<64;)e(o)&&(r<8&&(c[r]=n(t.pow(o,.5))),a[r]=n(t.pow(o,1/3)),r++),o++}();var l=[],u=i.SHA256=s.extend({_doReset:function(){this._hash=new r.init(c.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,o=n[0],r=n[1],s=n[2],i=n[3],c=n[4],u=n[5],d=n[6],f=n[7],m=0;m<64;m++){if(m<16)l[m]=0|e[t+m];else{var p=l[m-15],h=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=l[m-2],C=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[m]=h+l[m-7]+C+l[m-16]}var v=o&r^o&s^r&s,w=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),y=f+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&d)+a[m]+l[m];f=d,d=u,u=c,c=i+y|0,i=s,s=r,r=o,o=y+(w+v)|0}n[0]=n[0]+o|0,n[1]=n[1]+r|0,n[2]=n[2]+s|0,n[3]=n[3]+i|0,n[4]=n[4]+c|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var e=this._data,n=e.words,o=8*this._nDataBytes,r=8*e.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=t.floor(o/4294967296),n[15+(r+64>>>9<<4)]=o,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=s._createHelper(u),n.HmacSHA256=s._createHmacHelper(u)}(Math),e.SHA256}(ft.exports)}(ut);var pt=ut.exports,ht={exports:{}};!function(e,t){e.exports=function(e){return function(){var t=e,n=t.lib.WordArray;function o(e,t,o){for(var r=[],s=0,i=0;i<t;i++)if(i%4){var c=o[e.charCodeAt(i-1)]<<i%4*2|o[e.charCodeAt(i)]>>>6-i%4*2;r[s>>>2]|=c<<24-s%4*8,s++}return n.create(r,s)}t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,o=this._map;e.clamp();for(var r=[],s=0;s<n;s+=3)for(var i=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,c=0;c<4&&s+.75*c<n;c++)r.push(o.charAt(i>>>6*(3-c)&63));var a=o.charAt(64);if(a)for(;r.length%4;)r.push(a);return r.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var s=0;s<n.length;s++)r[n.charCodeAt(s)]=s}var i=n.charAt(64);if(i){var c=e.indexOf(i);-1!==c&&(t=c)}return o(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64}(ft.exports)}(ht);var gt,Ct,vt,wt=ht.exports;function yt(){return yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},yt.apply(this,arguments)}!function(e){e[e.Hello=0]="Hello",e[e.Identify=1]="Identify",e[e.Identified=2]="Identified",e[e.Reidentify=3]="Reidentify",e[e.Event=5]="Event",e[e.Request=6]="Request",e[e.RequestResponse=7]="RequestResponse",e[e.RequestBatch=8]="RequestBatch",e[e.RequestBatchResponse=9]="RequestBatchResponse"}(gt||(gt={})),function(e){e[e.None=0]="None",e[e.General=1]="General",e[e.Config=2]="Config",e[e.Scenes=4]="Scenes",e[e.Inputs=8]="Inputs",e[e.Transitions=16]="Transitions",e[e.Filters=32]="Filters",e[e.Outputs=64]="Outputs",e[e.SceneItems=128]="SceneItems",e[e.MediaInputs=256]="MediaInputs",e[e.Vendors=512]="Vendors",e[e.Ui=1024]="Ui",e[e.All=1023]="All",e[e.InputVolumeMeters=65536]="InputVolumeMeters",e[e.InputActiveStateChanged=131072]="InputActiveStateChanged",e[e.InputShowStateChanged=262144]="InputShowStateChanged",e[e.SceneItemTransformChanged=524288]="SceneItemTransformChanged"}(Ct||(Ct={})),function(e){e[e.None=-1]="None",e[e.SerialRealtime=0]="SerialRealtime",e[e.SerialFrame=1]="SerialFrame",e[e.Parallel=2]="Parallel"}(vt||(vt={}));const bt=["authentication","rpcVersion"],$t=st("obs-websocket-js");class St extends Error{constructor(e,t){super(t),this.code=void 0,this.code=e}}class kt extends ct{constructor(...e){super(...e),this._identified=!1,this.internalListeners=new ct,this.socket=void 0}static generateMessageId(){return String(kt.requestCounter++)}get identified(){return this._identified}async connect(e="ws://127.0.0.1:4455",t,n={}){var o=this;this.socket&&await this.disconnect();try{const r=this.internalEventPromise("ConnectionClosed"),s=this.internalEventPromise("ConnectionError");return await Promise.race([async function(){const r=await o.createConnection(e);return o.emit("Hello",r),o.identify(r,t,n)}(),new Promise(((e,t)=>{s.then((e=>{e.message&&t(e)})),r.then((e=>{t(e)}))}))])}catch(e){throw await this.disconnect(),e}}async disconnect(){if(!this.socket||this.socket.readyState===lt.CLOSED)return;const e=this.internalEventPromise("ConnectionClosed");this.socket.close(),await e}async reidentify(e){const t=this.internalEventPromise(`op:${gt.Identified}`);return await this.message(gt.Reidentify,e),t}async call(e,t){const n=kt.generateMessageId(),o=this.internalEventPromise(`res:${n}`);await this.message(gt.Request,{requestId:n,requestType:e,requestData:t});const{requestStatus:r,responseData:s}=await o;if(!r.result)throw new St(r.code,r.comment);return s}cleanup(){this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket=void 0,this._identified=!1,this.internalListeners.removeAllListeners())}async createConnection(e){var t;const n=this.internalEventPromise("ConnectionOpened"),o=this.internalEventPromise(`op:${gt.Hello}`);this.socket=new lt(e,this.protocol),this.socket.onopen=this.onOpen.bind(this),this.socket.onmessage=this.onMessage.bind(this),this.socket.onerror=this.onError.bind(this),this.socket.onclose=this.onClose.bind(this),await n;const r=null==(t=this.socket)?void 0:t.protocol;if(!r)throw new St(-1,"Server sent no subprotocol");if(r!==this.protocol)throw new St(-1,"Server sent an invalid subprotocol");return o}async identify(e,t,n={}){let{authentication:o,rpcVersion:r}=e,s=function(e,t){if(null==e)return{};var n,o,r={},s=Object.keys(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,bt);const i=yt({rpcVersion:r},n);o&&t&&(i.authentication=function(e,t,n){const o=wt.stringify(pt(n+e));return wt.stringify(pt(o+t))}(o.salt,o.challenge,t));const c=this.internalEventPromise(`op:${gt.Identified}`);await this.message(gt.Identify,i);const a=await c;return this._identified=!0,this.emit("Identified",a),yt({rpcVersion:r},s,a)}async message(e,t){if(!this.socket)throw new Error("Not connected");if(!this.identified&&1!==e)throw new Error("Socket not identified");const n=await this.encodeMessage({op:e,d:t});this.socket.send(n)}async internalEventPromise(e){return new Promise((t=>{this.internalListeners.once(e,t)}))}onOpen(e){$t("socket.open"),this.emit("ConnectionOpened"),this.internalListeners.emit("ConnectionOpened",e)}async onMessage(e){try{const{op:t,d:n}=await this.decodeMessage(e.data);if($t("socket.message: %d %j",t,n),void 0===t||void 0===n)return;switch(t){case gt.Event:{const{eventType:e,eventData:t}=n;return void this.emit(e,t)}case gt.RequestResponse:{const{requestId:e}=n;return void this.internalListeners.emit(`res:${e}`,n)}default:this.internalListeners.emit(`op:${t}`,n)}}catch(e){$t("error handling message: %o",e)}}onError(e){$t("socket.error: %o",e);const t=new St(-1,e.message);this.emit("ConnectionError",t),this.internalListeners.emit("ConnectionError",t)}onClose(e){$t("socket.close: %s (%d)",e.reason,e.code);const t=new St(e.code,e.reason);this.emit("ConnectionClosed",t),this.internalListeners.emit("ConnectionClosed",t),this.cleanup()}}kt.requestCounter=1,"undefined"!=typeof exports&&Object.defineProperty(exports,"__esModule",{value:!0});const Lt=new class extends kt{constructor(...e){super(...e),this.protocol="obswebsocket.json"}async encodeMessage(e){return JSON.stringify(e)}async decodeMessage(e){return JSON.parse(e)}};async function Mt(e,t){try{return await Lt.call(e,t||{})}catch(t){return console.log("Error sending command",e," - error is:",t.message),{}}}function xt(e,t,n){const o=e.slice();return o[11]=t[n],o}function Nt(e){let t,n,o,r,s=e[3],i=[];for(let t=0;t<s.length;t+=1)i[t]=_t(xt(e,s,t));return{c(){t=m("div"),n=m("img"),o=g(),r=m("div");for(let e=0;e<i.length;e+=1)i[e].c();w(n,"class","has-background-dark"),w(n,"alt","Preview"),w(t,"class","column"),w(r,"class","column is-narrow")},m(s,c){u(s,t,c),l(t,n),e[6](n),u(s,o,c),u(s,r,c);for(let e=0;e<i.length;e+=1)i[e].m(r,null)},p(e,t){if(8&t){let n;for(s=e[3],n=0;n<s.length;n+=1){const o=xt(e,s,n);i[n]?i[n].p(o,t):(i[n]=_t(o),i[n].c(),i[n].m(r,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}},d(n){n&&d(t),e[6](null),n&&d(o),n&&d(r),f(i,n)}}}function _t(e){let t,n,o,r,s=e[11].transitionName+"";function i(){return e[7](e[11])}return{c(){t=m("button"),n=h(s),w(t,"class","button is-fullwidth is-info"),$(t,"margin-bottom",".5rem")},m(e,s){u(e,t,s),l(t,n),o||(r=v(t,"click",i),o=!0)},p(t,o){e=t,8&o&&s!==(s=e[11].transitionName+"")&&y(n,s)},d(e){e&&d(t),o=!1,r()}}}function Ht(t){let n,o,r,s,i=t[0]&&Nt(t);return{c(){n=m("div"),i&&i.c(),o=g(),r=m("div"),s=m("img"),w(s,"alt","Program"),w(r,"class","column"),w(n,"class","columns is-centered is-vcentered has-text-centered")},m(e,c){u(e,n,c),i&&i.m(n,null),l(n,o),l(n,r),l(r,s),t[8](s)},p(e,[t]){e[0]?i?i.p(e,t):(i=Nt(e),i.c(),i.m(n,o)):i&&(i.d(1),i=null)},i:e,o:e,d(e){e&&d(n),i&&i.d(),t[8](null)}}}function It(e,t,n){let o,r=!1,s="",i="",c={},a={},l=[];var u;async function d(){if(!s)return;let e=await Mt("GetSourceScreenshot",{sourceName:s,imageFormat:"jpg",imageWidth:960,imageHeight:540});e&&e.imageData&&c&&(n(1,c.src=e.imageData,c),n(1,c.className="",c)),r&&(i!==s&&(e=await Mt("GetSourceScreenshot",{sourceName:i,imageFormat:"jpg",imageWidth:960,imageHeight:540})),e&&e.imageData&&a&&n(2,a.src=e.imageData,a))}N((async()=>{let e;s||(e=await Mt("GetCurrentProgramScene"),n(4,s=e.currentProgramSceneName||"")),e=await Mt("GetStudioModeEnabled"),e&&e.studioModeEnabled&&(n(0,r=!0),e=await Mt("GetCurrentPreviewScene"),n(5,i=e.currentPreviewSceneName||"")),e=await Mt("GetSceneTransitionList"),console.log("GetSceneTransitionList",e),n(3,l=e.transitions||[]),o=setInterval(d,1e3)})),u=()=>{clearInterval(o)},x().$$.on_destroy.push(u),Lt.on("StudioModeStateChanged",(async e=>{console.log("StudioModeStateChanged",e.studioModeEnabled),n(0,r=e.studioModeEnabled),r&&n(5,i=s)})),Lt.on("CurrentPreviewSceneChanged",(async e=>{console.log("CurrentPreviewSceneChanged",e.sceneName),n(5,i=e.sceneName)})),Lt.on("CurrentProgramSceneChanged",(async e=>{console.log("CurrentProgramSceneChanged",e.sceneName),n(4,s=e.sceneName)})),Lt.on("SceneNameChanged",(async e=>{e.oldSceneName===s&&n(4,s=e.sceneName),e.oldSceneName===i&&n(5,i=e.sceneName)})),Lt.on("TransitionListChanged",(async e=>{console.log("TransitionListChanged",e),n(3,l=e.transitions||[])}));return e.$$.update=()=>{48&e.$$.dirty&&d()},[r,c,a,l,s,i,function(e){I[e?"unshift":"push"]((()=>{a=e,n(2,a)}))},async e=>{await Mt("SetCurrentSceneTransition",{transitionName:e.transitionName}),await Mt("TriggerStudioModeTransition")},function(e){I[e?"unshift":"push"]((()=>{c=e,n(1,c)}))}]}Lt.on("error",(e=>{console.error("Socket error:",e)}));class Et extends Q{constructor(e){super(),K(this,e,It,Ht,s,{})}}function Ft(e){let t,n;return{c(){t=m("img"),a(t.src,n=e[4])||w(t,"src",n),w(t,"alt",e[0]),w(t,"class","thumbnail svelte-xcafbk")},m(e,n){u(e,t,n)},p(e,o){16&o&&!a(t.src,n=e[4])&&w(t,"src",n),1&o&&w(t,"alt",e[0])},d(e){e&&d(t)}}}function Vt(e){let t;return{c(){t=h(e[0])},m(e,n){u(e,t,n)},p(e,n){1&n&&y(t,e[0])},d(e){e&&d(t)}}}function Pt(t){let n,o,r,s,i,c=t[4]&&Ft(t),a="icon"!==t[1]&&Vt(t);return{c(){n=m("button"),c&&c.c(),o=g(),a&&a.c(),w(n,"style",r="icon"===t[1]?t[5]:""),w(n,"title",t[0]),w(n,"class","svelte-xcafbk"),L(n,"title","text"===t[1]),L(n,"program",t[2]),L(n,"preview",t[3]),L(n,"with-icon","icon"===t[1])},m(e,r){u(e,n,r),c&&c.m(n,null),l(n,o),a&&a.m(n,null),s||(i=v(n,"click",t[8]),s=!0)},p(e,[t]){e[4]?c?c.p(e,t):(c=Ft(e),c.c(),c.m(n,o)):c&&(c.d(1),c=null),"icon"!==e[1]?a?a.p(e,t):(a=Vt(e),a.c(),a.m(n,null)):a&&(a.d(1),a=null),34&t&&r!==(r="icon"===e[1]?e[5]:"")&&w(n,"style",r),1&t&&w(n,"title",e[0]),2&t&&L(n,"title","text"===e[1]),4&t&&L(n,"program",e[2]),8&t&&L(n,"preview",e[3]),2&t&&L(n,"with-icon","icon"===e[1])},i:e,o:e,d(e){e&&d(n),c&&c.d(),a&&a.d(),s=!1,i()}}}function Ot(e,t,n){let o,{name:r}=t,{buttonStyle:s="text"}=t,{icon:i="#ffffff"}=t,{isProgram:c=!1}=t,{isPreview:a=!1}=t,{img:l=""}=t;const u=_();return e.$$set=e=>{"name"in e&&n(0,r=e.name),"buttonStyle"in e&&n(1,s=e.buttonStyle),"icon"in e&&n(7,i=e.icon),"isProgram"in e&&n(2,c=e.isProgram),"isPreview"in e&&n(3,a=e.isPreview),"img"in e&&n(4,l=e.img)},e.$$.update=()=>{128&e.$$.dirty&&n(5,o=i.startsWith("#")?`background-color: ${i};`:`background-image: url(${i});`)},[r,s,c,a,l,o,u,i,()=>u("click")]}class Tt extends Q{constructor(e){super(),K(this,e,Ot,Pt,s,{name:0,buttonStyle:1,icon:7,isProgram:2,isPreview:3,img:4})}}function Bt(e,t,n){const o=e.slice();return o[11]=t[n],o}function Rt(e,t,n){const o=e.slice();return o[11]=t[n],o}function At(e){let t,n,o=e[6],r=[];for(let t=0;t<o.length;t+=1)r[t]=qt(Bt(e,o,t));const s=e=>W(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=C()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);u(e,t,o),n=!0},p(e,n){if(238&n){let i;for(o=e[6],i=0;i<o.length;i+=1){const s=Bt(e,o,i);r[i]?(r[i].p(s,n),G(r[i],1)):(r[i]=qt(s),r[i].c(),G(r[i],1),r[i].m(t.parentNode,t))}for(z(),i=o.length;i<r.length;i+=1)s(i);D()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)G(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)W(r[e]);n=!1},d(e){f(r,e),e&&d(t)}}}function jt(t){let n,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=zt(Rt(t,o,e));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();n=C()},m(e,t){for(let n=0;n<r.length;n+=1)r[n].m(e,t);u(e,n,t)},p(e,t){if(801&t){let s;for(o=e[0],s=0;s<o.length;s+=1){const i=Rt(e,o,s);r[s]?r[s].p(i,t):(r[s]=zt(i),r[s].c(),r[s].m(n.parentNode,n))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},i:e,o:e,d(e){f(r,e),e&&d(n)}}}function qt(e){let t,n,o,s;return n=new Tt({props:{name:e[11].sceneName,isProgram:e[1]===e[11].sceneName,isPreview:e[2]===e[11].sceneName,buttonStyle:e[3],icon:e[5][e[11].sceneName]||`#${Math.floor(16777215*Math.random()).toString(16)}`}}),n.$on("click",(function(){r(e[7](e[11]))&&e[7](e[11]).apply(this,arguments)})),{c(){t=m("li"),U(n.$$.fragment),o=g(),w(t,"class","svelte-1ht1wm3")},m(e,r){u(e,t,r),J(n,t,null),l(t,o),s=!0},p(t,o){e=t;const r={};64&o&&(r.name=e[11].sceneName),66&o&&(r.isProgram=e[1]===e[11].sceneName),68&o&&(r.isPreview=e[2]===e[11].sceneName),8&o&&(r.buttonStyle=e[3]),96&o&&(r.icon=e[5][e[11].sceneName]||`#${Math.floor(16777215*Math.random()).toString(16)}`),n.$set(r)},i(e){s||(G(n.$$.fragment,e),s=!0)},o(e){W(n.$$.fragment,e),s=!1},d(e){e&&d(t),Y(n)}}}function zt(e){let t,n,r,s,i,c,a,f,p,h,C,y,b,$,S;return{c(){t=m("li"),n=m("label"),n.textContent="Name",r=g(),s=m("input"),a=g(),f=m("label"),f.textContent="Icon",p=g(),h=m("input"),b=g(),w(n,"class","label"),w(s,"type","text"),w(s,"class","input"),w(s,"title",i=e[11].sceneName),s.value=c=e[11].sceneName,w(f,"class","label"),w(h,"type","text"),w(h,"class","input"),w(h,"title",C=e[11].sceneName),h.value=y=e[5][e[11].sceneName]||"",w(t,"class","svelte-1ht1wm3")},m(o,i){u(o,t,i),l(t,n),l(t,r),l(t,s),l(t,a),l(t,f),l(t,p),l(t,h),l(t,b),$||(S=[v(s,"change",e[8]),v(h,"change",e[9])],$=!0)},p(e,t){1&t&&i!==(i=e[11].sceneName)&&w(s,"title",i),1&t&&c!==(c=e[11].sceneName)&&s.value!==c&&(s.value=c),1&t&&C!==(C=e[11].sceneName)&&w(h,"title",C),33&t&&y!==(y=e[5][e[11].sceneName]||"")&&h.value!==y&&(h.value=y)},d(e){e&&d(t),$=!1,o(S)}}}function Dt(e){let t,n,o,r;const s=[jt,At],i=[];function c(e,t){return e[4]?0:1}return n=c(e),o=i[n]=s[n](e),{c(){t=m("ol"),o.c(),w(t,"class","svelte-1ht1wm3"),L(t,"column",e[4]),L(t,"with-icon","icon"===e[3])},m(e,o){u(e,t,o),i[n].m(t,null),r=!0},p(e,[a]){let l=n;n=c(e),n===l?i[n].p(e,a):(z(),W(i[l],1,1,(()=>{i[l]=null})),D(),o=i[n],o?o.p(e,a):(o=i[n]=s[n](e),o.c()),G(o,1),o.m(t,null)),(!r||16&a)&&L(t,"column",e[4]),(!r||8&a)&&L(t,"with-icon","icon"===e[3])},i(e){r||(G(o),r=!0)},o(e){W(o),r=!1},d(e){e&&d(t),i[n].d()}}}function Gt(e,t,n){let{programScene:o={}}=t,{previewScene:r={}}=t,{scenes:s=[]}=t,{buttonStyle:i="text"}=t,{editable:c=!1}=t,a=[],l=!1;const u=JSON.parse(window.localStorage.getItem("sceneIcons")||"{}");return N((async function(){let e=await Mt("GetSceneList");console.log("GetSceneList",e),n(1,o=e.currentProgramSceneName||""),n(2,r=e.currentPreviewSceneName),n(0,s=e.scenes),e=await Mt("GetStudioModeEnabled"),e&&e.studioModeEnabled&&(l=!0,n(2,r=e.currentPreviewSceneName||""))})),Lt.on("StudioModeStateChanged",(async e=>{console.log("StudioModeStateChanged",e.studioModeEnabled),l=e.studioModeEnabled,n(2,r=o)})),Lt.on("SceneListChanged",(async e=>{console.log("SceneListChanged",e.scenes.length),n(0,s=e.scenes)})),Lt.on("SceneCreated",(async e=>{console.log("SceneCreated",e)})),Lt.on("SceneRemoved",(async e=>{console.log("SceneRemoved",e);for(let t=0;t<s.length;t++)s[t].sceneName===e.sceneName&&delete s[t]})),Lt.on("SceneNameChanged",(async e=>{console.log("SceneNameChanged",e);for(let t=0;t<s.length;t++)s[t].sceneName===e.oldSceneName&&n(0,s[t].sceneName=e.sceneName,s);n(5,u[e.sceneName]=u[e.oldSceneName],u)})),Lt.on("CurrentProgramSceneChanged",(e=>{console.log("CurrentProgramSceneChanged",e),n(1,o=e.sceneName||"")})),Lt.on("CurrentPreviewSceneChanged",(async e=>{console.log("CurrentPreviewSceneChanged",e),n(2,r=e.sceneName)})),e.$$set=e=>{"programScene"in e&&n(1,o=e.programScene),"previewScene"in e&&n(2,r=e.previewScene),"scenes"in e&&n(0,s=e.scenes),"buttonStyle"in e&&n(3,i=e.buttonStyle),"editable"in e&&n(4,c=e.editable)},e.$$.update=()=>{1&e.$$.dirty&&n(6,a=s.filter((e=>-1===e.sceneName.indexOf("(hidden)")))),32&e.$$.dirty&&window.localStorage.setItem("sceneIcons",JSON.stringify(u))},[s,o,r,i,c,u,a,function(e){return async function(){l?await Mt("SetCurrentPreviewScene",{sceneName:e.sceneName}):await Mt("SetCurrentProgramScene",{sceneName:e.sceneName})}},function(e){Mt("SetSceneName",{sceneName:e.target.title,newSceneName:e.target.value})},function(e){n(5,u[e.target.title]=e.target.value,u)}]}class Wt extends Q{constructor(e){super(),K(this,e,Gt,Dt,s,{programScene:1,previewScene:2,scenes:0,buttonStyle:3,editable:4})}}function Zt(e,t,n){const o=e.slice();return o[10]=t[n],o}function Ut(e){let t,n,o,s;return n=new Tt({props:{name:e[10].sourceName,isProgram:e[10].sceneItemEnabled,img:e[10].img,buttonStyle:e[0]}}),n.$on("click",(function(){r(e[2](e[10].sceneItemId))&&e[2](e[10].sceneItemId).apply(this,arguments)})),{c(){t=m("li"),U(n.$$.fragment),o=g(),w(t,"class","svelte-1mfq7n9")},m(e,r){u(e,t,r),J(n,t,null),l(t,o),s=!0},p(t,o){e=t;const r={};2&o&&(r.name=e[10].sourceName),2&o&&(r.isProgram=e[10].sceneItemEnabled),2&o&&(r.img=e[10].img),1&o&&(r.buttonStyle=e[0]),n.$set(r)},i(e){s||(G(n.$$.fragment,e),s=!0)},o(e){W(n.$$.fragment,e),s=!1},d(e){e&&d(t),Y(n)}}}function Jt(e){let t,n,o,r,s,i,c=e[1],a=[];for(let t=0;t<c.length;t+=1)a[t]=Ut(Zt(e,c,t));const l=e=>W(a[e],1,1,(()=>{a[e]=null}));return{c(){t=m("ol");for(let e=0;e<a.length;e+=1)a[e].c();n=g(),o=m("button"),o.textContent="Load missing thumbnails",w(t,"class","svelte-1mfq7n9"),w(o,"class","button")},m(c,l){u(c,t,l);for(let e=0;e<a.length;e+=1)a[e].m(t,null);u(c,n,l),u(c,o,l),r=!0,s||(i=v(o,"click",e[3]),s=!0)},p(e,[n]){if(7&n){let o;for(c=e[1],o=0;o<c.length;o+=1){const r=Zt(e,c,o);a[o]?(a[o].p(r,n),G(a[o],1)):(a[o]=Ut(r),a[o].c(),G(a[o],1),a[o].m(t,null))}for(z(),o=c.length;o<a.length;o+=1)l(o);D()}},i(e){if(!r){for(let e=0;e<c.length;e+=1)G(a[e]);r=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)W(a[e]);r=!1},d(e){e&&d(t),f(a,e),e&&d(n),e&&d(o),s=!1,i()}}}function Yt(e,t,n){let{buttonStyle:o="screenshot"}=t,{name:r="Backgrounds (hidden)"}=t,s=[];const i={};let c="";const a=new Set;async function l(){const e=await Mt("GetSceneItemList",{sceneName:r});n(1,s=e.sceneItems||s);for(let e=0;e<s.length;e++){const t=s[e];i[t.sceneItemId]=e,t.sceneItemEnabled&&(c=t.sceneItemId)}for(let e=0;e<s.length;e++)n(1,s[e].img=await u(s[e]),s)}async function u(e){if(e.img)return e.img;let t=null,n=e.sceneItemEnabled?3:1;for(;n--;)if(await new Promise((e=>setTimeout(e,500*Math.random()+100))),t=await Mt("GetSourceScreenshot",{sourceName:e.sourceName,imageFormat:"jpg",width:192,height:108}),t&&t.imageData)return t.imageData}return N((async function(){await l()})),Lt.on("SceneItemEnableStateChanged",(async e=>{if(e.sceneName===r){const t=i[e.sceneItemId];n(1,s[t].sceneItemEnabled=e.sceneItemEnabled,s),s[t].sceneItemEnabled&&!s[t].img&&(n(1,s[t].img=await u(s[t]),s),a.has(s[t].sceneItemId)&&(n(1,s[t].img=await u(s[t]),s),await Mt("SetSceneItemEnabled",{sceneName:r,sceneItemId:s[t].sceneItemId,sceneItemEnabled:!1}),a.delete(s[t].sceneItemId)))}})),Lt.on("SceneItemListReindexed",(async e=>{e.sceneName===r&&await l()})),Lt.on("SceneItemCreated",(async e=>{e.sceneName===r&&await l()})),Lt.on("SceneItemRemoved",(async e=>{e.sceneName===r&&await l()})),e.$$set=e=>{"buttonStyle"in e&&n(0,o=e.buttonStyle),"name"in e&&n(4,r=e.name)},[o,s,function(e){return async function(){await Mt("SetSceneItemEnabled",{sceneName:r,sceneItemId:e,sceneItemEnabled:!0}),c!==e&&await Mt("SetSceneItemEnabled",{sceneName:r,sceneItemId:c,sceneItemEnabled:!1}),c=e}},async function(){for(let e=0;e<s.length;e++)s[e].img||(await Mt("SetSceneItemEnabled",{sceneName:r,sceneItemId:s[e].sceneItemId,sceneItemEnabled:!0}),a.add(s[e].sceneItemId))},r]}class Xt extends Q{constructor(e){super(),K(this,e,Yt,Jt,s,{buttonStyle:0,name:4})}}function Kt(e,t,n){const o=e.slice();return o[4]=t[n],o}function Qt(e){let t,n,o,r=e[4]+"";return{c(){t=m("option"),n=h(r),t.__value=o=e[4],t.value=t.__value},m(e,o){u(e,t,o),l(t,n)},p(e,s){1&s&&r!==(r=e[4]+"")&&y(n,r),1&s&&o!==(o=e[4])&&(t.__value=o,t.value=t.__value)},d(e){e&&d(t)}}}function en(t){let n,r,s,i,c=t[0],a=[];for(let e=0;e<c.length;e+=1)a[e]=Qt(Kt(t,c,e));return{c(){n=m("div"),r=m("select");for(let e=0;e<a.length;e+=1)a[e].c();w(r,"title","Change Profile"),void 0===t[1]&&O((()=>t[3].call(r))),w(n,"class","select"),$(n,"margin","0 .5rem .5rem 0")},m(e,o){u(e,n,o),l(n,r);for(let e=0;e<a.length;e+=1)a[e].m(r,null);S(r,t[1]),s||(i=[v(r,"change",t[3]),v(r,"change",t[2])],s=!0)},p(e,[t]){if(1&t){let n;for(c=e[0],n=0;n<c.length;n+=1){const o=Kt(e,c,n);a[n]?a[n].p(o,t):(a[n]=Qt(o),a[n].c(),a[n].m(r,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=c.length}3&t&&S(r,e[1])},i:e,o:e,d(e){e&&d(n),f(a,e),s=!1,o(i)}}}function tn(e,t,n){let o=[],r="";return N((async function(){const e=await Mt("GetProfileList");n(0,o=e.profiles||[]),n(1,r=e.currentProfileName||"")})),Lt.on("CurrentProfileChanged",(async e=>{console.log("CurrentProfileChanged",e.profileName),n(1,r=e.profileName||"")})),Lt.on("ProfileListChanged",(async e=>{console.log("ProfileListChanged",e.profiles.length),n(0,o=e.profiles||[])})),[o,r,async function(e){Mt("SetCurrentProfile",{profileName:e.target.value})},function(){r=k(this),n(1,r),n(0,o)}]}class nn extends Q{constructor(e){super(),K(this,e,tn,en,s,{})}}function on(e,t,n){const o=e.slice();return o[4]=t[n],o}function rn(e){let t,n,o,r=e[4]+"";return{c(){t=m("option"),n=h(r),t.__value=o=e[4],t.value=t.__value},m(e,o){u(e,t,o),l(t,n)},p(e,s){1&s&&r!==(r=e[4]+"")&&y(n,r),1&s&&o!==(o=e[4])&&(t.__value=o,t.value=t.__value)},d(e){e&&d(t)}}}function sn(t){let n,r,s,i,c=t[0],a=[];for(let e=0;e<c.length;e+=1)a[e]=rn(on(t,c,e));return{c(){n=m("div"),r=m("select");for(let e=0;e<a.length;e+=1)a[e].c();w(r,"title","Change Collection"),void 0===t[1]&&O((()=>t[3].call(r))),w(n,"class","select"),$(n,"margin","0 .5rem .5rem 0")},m(e,o){u(e,n,o),l(n,r);for(let e=0;e<a.length;e+=1)a[e].m(r,null);S(r,t[1]),s||(i=[v(r,"change",t[3]),v(r,"change",t[2])],s=!0)},p(e,[t]){if(1&t){let n;for(c=e[0],n=0;n<c.length;n+=1){const o=on(e,c,n);a[n]?a[n].p(o,t):(a[n]=rn(o),a[n].c(),a[n].m(r,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=c.length}3&t&&S(r,e[1])},i:e,o:e,d(e){e&&d(n),f(a,e),s=!1,o(i)}}}function cn(e,t,n){let o=[],r="";return N((async function(){const e=await Mt("GetSceneCollectionList");n(0,o=e.sceneCollections||[]),n(1,r=e.currentSceneCollectionName||"")})),Lt.on("CurrentSceneCollectionChanged",(async e=>{console.log("CurrentSceneCollectionChanged",e.sceneCollectionName),n(1,r=e.sceneCollectionName||""),Lt.emit("SceneListChanged",await Mt("GetSceneList"))})),Lt.on("SceneCollectionListChanged",(async e=>{console.log("SceneCollectionListChanged",e.sceneCollections.length),n(0,o=e.sceneCollections||[])})),[o,r,async function(e){Mt("SetCurrentSceneCollection",{sceneCollectionName:e.target.value})},function(){r=k(this),n(1,r),n(0,o)}]}class an extends Q{constructor(e){super(),K(this,e,cn,sn,s,{})}}const{document:ln}=Z;function un(e,t,n){const o=e.slice();return o[31]=t[n],o}function dn(t){let n,o,r=(t[12]||"Disconnected")+"";return{c(){n=m("button"),o=h(r),w(n,"class","button is-danger"),n.disabled=!0},m(e,t){u(e,n,t),l(n,o)},p(e,t){4096&t[0]&&r!==(r=(e[12]||"Disconnected")+"")&&y(o,r)},i:e,o:e,d(e){e&&d(n)}}}function fn(e){let t,n,r,s,i,c,a,f,p,h,C,y,b,$,S,k,M,x,N,_,H,I,E,F,V,P,O,T,B,R,A,j,q,Z,X,K,Q,ee,te;function ae(e,t){return e[2]&&e[2].stats?pn:mn}let le=ae(e),ue=le(e);const de=[gn,hn],fe=[];function me(e,t){return e[2]&&e[2].streaming&&e[2].streaming.outputActive?0:1}r=me(e),s=fe[r]=de[r](e);const pe=[vn,Cn],ge=[];function Ce(e,t){return e[2]&&e[2].recording&&e[2].recording.outputActive?0:1}c=Ce(e),a=ge[c]=pe[c](e),C=new he({props:{path:"M15,13H17V11H15M15,21H17V19H15M15,5H17V3H15M19,9H21V7H19M19,5H21V3H19M19,13H21V11H19M19,21H21V19H19M11,21H13V3H11M19,17H21V15H19M7,5H9V3H7M3,17H5V15H3M3,21H5V19H3M3,13H5V11H3M7,13H9V11H7M7,21H9V19H7M3,5H5V3H3M3,9H5V7H3V9Z"}}),S=new he({props:{path:"M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z"}}),N=new he({props:{path:e[7]?oe:ne}}),E=new he({props:{path:e[0]?ce:ie}}),O=new he({props:{path:e[6]?se:re}});let ve=e[11]&&bn(e);return R=new nn({}),j=new an({}),K=new he({props:{path:"M21.4 7.5C22.2 8.3 22.2 9.6 21.4 10.3L18.6 13.1L10.8 5.3L13.6 2.5C14.4 1.7 15.7 1.7 16.4 2.5L18.2 4.3L21.2 1.3L22.6 2.7L19.6 5.7L21.4 7.5M15.6 13.3L14.2 11.9L11.4 14.7L9.3 12.6L12.1 9.8L10.7 8.4L7.9 11.2L6.4 9.8L3.6 12.6C2.8 13.4 2.8 14.7 3.6 15.4L5.4 17.2L1.4 21.2L2.8 22.6L6.8 18.6L8.6 20.4C9.4 21.2 10.7 21.2 11.4 20.4L14.2 17.6L12.8 16.2L15.6 13.3Z"}}),{c(){t=m("button"),ue.c(),n=g(),s.c(),i=g(),a.c(),f=g(),p=m("button"),h=m("span"),U(C.$$.fragment),y=g(),b=m("button"),$=m("span"),U(S.$$.fragment),k=g(),M=m("button"),x=m("span"),U(N.$$.fragment),_=g(),H=m("button"),I=m("span"),U(E.$$.fragment),F=g(),V=m("button"),P=m("span"),U(O.$$.fragment),T=g(),ve&&ve.c(),B=g(),U(R.$$.fragment),A=g(),U(j.$$.fragment),q=g(),Z=m("button"),X=m("span"),U(K.$$.fragment),w(t,"class","button is-info is-light"),t.disabled=!0,w(h,"class","icon"),w(p,"class","button is-link"),w(p,"title","Toggle Studio Mode"),L(p,"is-light",!e[4]),w($,"class","icon"),w(b,"class","button is-link"),w(b,"title","Show Scene on Top"),L(b,"is-light",!e[5]),w(x,"class","icon"),w(M,"class","button is-link"),w(M,"title","Edit Scenes"),L(M,"is-light",!e[7]),w(I,"class","icon"),w(H,"class","button is-link"),w(H,"title","Show Scenes as Icons"),L(H,"is-light",!e[0]),w(P,"class","icon"),w(V,"class","button is-link"),w(V,"title","Toggle Replay Buffer"),L(V,"is-light",!e[6]),L(V,"is-danger",e[11]),w(X,"class","icon"),w(Z,"class","button is-danger is-light"),w(Z,"title","Disconnect")},m(o,s){u(o,t,s),ue.m(t,null),u(o,n,s),fe[r].m(o,s),u(o,i,s),ge[c].m(o,s),u(o,f,s),u(o,p,s),l(p,h),J(C,h,null),u(o,y,s),u(o,b,s),l(b,$),J(S,$,null),u(o,k,s),u(o,M,s),l(M,x),J(N,x,null),u(o,_,s),u(o,H,s),l(H,I),J(E,I,null),u(o,F,s),u(o,V,s),l(V,P),J(O,P,null),l(V,T),ve&&ve.m(V,null),u(o,B,s),J(R,o,s),u(o,A,s),J(j,o,s),u(o,q,s),u(o,Z,s),l(Z,X),J(K,X,null),Q=!0,ee||(te=[v(p,"click",e[14]),v(b,"click",e[16]),v(M,"click",e[25]),v(H,"click",e[26]),v(V,"click",e[15]),v(Z,"click",e[24])],ee=!0)},p(e,n){le===(le=ae(e))&&ue?ue.p(e,n):(ue.d(1),ue=le(e),ue&&(ue.c(),ue.m(t,null)));let o=r;r=me(e),r===o?fe[r].p(e,n):(z(),W(fe[o],1,1,(()=>{fe[o]=null})),D(),s=fe[r],s?s.p(e,n):(s=fe[r]=de[r](e),s.c()),G(s,1),s.m(i.parentNode,i));let l=c;c=Ce(e),c===l?ge[c].p(e,n):(z(),W(ge[l],1,1,(()=>{ge[l]=null})),D(),a=ge[c],a?a.p(e,n):(a=ge[c]=pe[c](e),a.c()),G(a,1),a.m(f.parentNode,f)),(!Q||16&n[0])&&L(p,"is-light",!e[4]),(!Q||32&n[0])&&L(b,"is-light",!e[5]);const u={};128&n[0]&&(u.path=e[7]?oe:ne),N.$set(u),(!Q||128&n[0])&&L(M,"is-light",!e[7]);const d={};1&n[0]&&(d.path=e[0]?ce:ie),E.$set(d),(!Q||1&n[0])&&L(H,"is-light",!e[0]);const m={};64&n[0]&&(m.path=e[6]?se:re),O.$set(m),e[11]?ve?ve.p(e,n):(ve=bn(e),ve.c(),ve.m(V,null)):ve&&(ve.d(1),ve=null),(!Q||64&n[0])&&L(V,"is-light",!e[6]),(!Q||2048&n[0])&&L(V,"is-danger",e[11])},i(e){Q||(G(s),G(a),G(C.$$.fragment,e),G(S.$$.fragment,e),G(N.$$.fragment,e),G(E.$$.fragment,e),G(O.$$.fragment,e),G(R.$$.fragment,e),G(j.$$.fragment,e),G(K.$$.fragment,e),Q=!0)},o(e){W(s),W(a),W(C.$$.fragment,e),W(S.$$.fragment,e),W(N.$$.fragment,e),W(E.$$.fragment,e),W(O.$$.fragment,e),W(R.$$.fragment,e),W(j.$$.fragment,e),W(K.$$.fragment,e),Q=!1},d(e){e&&d(t),ue.d(),e&&d(n),fe[r].d(e),e&&d(i),ge[c].d(e),e&&d(f),e&&d(p),Y(C),e&&d(y),e&&d(b),Y(S),e&&d(k),e&&d(M),Y(N),e&&d(_),e&&d(H),Y(E),e&&d(F),e&&d(V),Y(O),ve&&ve.d(),e&&d(B),Y(R,e),e&&d(A),Y(j,e),e&&d(q),e&&d(Z),Y(K),ee=!1,o(te)}}}function mn(t){let n;return{c(){n=h("Connected")},m(e,t){u(e,n,t)},p:e,d(e){e&&d(n)}}}function pn(e){let t,n,o,r,s,i,c=Math.round(e[2].stats.activeFps)+"",a=Math.round(e[2].stats.cpuUsage)+"",l=e[2].stats.renderSkippedFrames+"";return{c(){t=h(c),n=h(" fps, "),o=h(a),r=h("% CPU, "),s=h(l),i=h(" skipped frames")},m(e,c){u(e,t,c),u(e,n,c),u(e,o,c),u(e,r,c),u(e,s,c),u(e,i,c)},p(e,n){4&n[0]&&c!==(c=Math.round(e[2].stats.activeFps)+"")&&y(t,c),4&n[0]&&a!==(a=Math.round(e[2].stats.cpuUsage)+"")&&y(o,a),4&n[0]&&l!==(l=e[2].stats.renderSkippedFrames+"")&&y(s,l)},d(e){e&&d(t),e&&d(n),e&&d(o),e&&d(r),e&&d(s),e&&d(i)}}}function hn(t){let n,o,r,s,i,c;return r=new he({props:{path:"M4.93,4.93C3.12,6.74 2,9.24 2,12C2,14.76 3.12,17.26 4.93,19.07L6.34,17.66C4.89,16.22 4,14.22 4,12C4,9.79 4.89,7.78 6.34,6.34L4.93,4.93M19.07,4.93L17.66,6.34C19.11,7.78 20,9.79 20,12C20,14.22 19.11,16.22 17.66,17.66L19.07,19.07C20.88,17.26 22,14.76 22,12C22,9.24 20.88,6.74 19.07,4.93M7.76,7.76C6.67,8.85 6,10.35 6,12C6,13.65 6.67,15.15 7.76,16.24L9.17,14.83C8.45,14.11 8,13.11 8,12C8,10.89 8.45,9.89 9.17,9.17L7.76,7.76M16.24,7.76L14.83,9.17C15.55,9.89 16,10.89 16,12C16,13.11 15.55,14.11 14.83,14.83L16.24,16.24C17.33,15.15 18,13.65 18,12C18,10.35 17.33,8.85 16.24,7.76M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10Z"}}),{c(){n=m("button"),o=m("span"),U(r.$$.fragment),w(o,"class","icon"),w(n,"class","button is-danger is-light"),w(n,"title","Start Stream")},m(e,a){u(e,n,a),l(n,o),J(r,o,null),s=!0,i||(c=v(n,"click",t[17]),i=!0)},p:e,i(e){s||(G(r.$$.fragment,e),s=!0)},o(e){W(r.$$.fragment,e),s=!1},d(e){e&&d(n),Y(r),i=!1,c()}}}function gn(e){let t,n,o,r,s,i,c,a,f,p=Hn(e[2].streaming.outputDuration)+"";return o=new he({props:{path:"M20.84 22.73L12.1 14C12.06 14 12.03 14 12 14C10.9 14 10 13.11 10 12C10 11.97 10 11.94 10 11.9L8.4 10.29C8.15 10.81 8 11.38 8 12C8 13.11 8.45 14.11 9.17 14.83L7.76 16.24C6.67 15.15 6 13.65 6 12C6 10.83 6.34 9.74 6.93 8.82L5.5 7.37C4.55 8.67 4 10.27 4 12C4 14.22 4.89 16.22 6.34 17.66L4.93 19.07C3.12 17.26 2 14.76 2 12C2 9.72 2.77 7.63 4.06 5.95L1.11 3L2.39 1.73L22.11 21.46L20.84 22.73M15.93 12.73L17.53 14.33C17.83 13.61 18 12.83 18 12C18 10.35 17.33 8.85 16.24 7.76L14.83 9.17C15.55 9.89 16 10.89 16 12C16 12.25 15.97 12.5 15.93 12.73M19.03 15.83L20.5 17.28C21.44 15.75 22 13.94 22 12C22 9.24 20.88 6.74 19.07 4.93L17.66 6.34C19.11 7.78 20 9.79 20 12C20 13.39 19.65 14.7 19.03 15.83Z"}}),{c(){t=m("button"),n=m("span"),U(o.$$.fragment),r=g(),s=m("span"),i=h(p),w(n,"class","icon"),w(t,"class","button is-danger"),w(t,"title","Stop Stream")},m(d,m){u(d,t,m),l(t,n),J(o,n,null),l(t,r),l(t,s),l(s,i),c=!0,a||(f=v(t,"click",e[18]),a=!0)},p(e,t){(!c||4&t[0])&&p!==(p=Hn(e[2].streaming.outputDuration)+"")&&y(i,p)},i(e){c||(G(o.$$.fragment,e),c=!0)},o(e){W(o.$$.fragment,e),c=!1},d(e){e&&d(t),Y(o),a=!1,f()}}}function Cn(t){let n,o,r,s,i,c;return r=new he({props:{path:"M19,12C19,15.86 15.86,19 12,19C8.14,19 5,15.86 5,12C5,8.14 8.14,5 12,5C15.86,5 19,8.14 19,12Z"}}),{c(){n=m("button"),o=m("span"),U(r.$$.fragment),w(o,"class","icon"),w(n,"class","button is-danger is-light"),w(n,"title","Start Recording")},m(e,a){u(e,n,a),l(n,o),J(r,o,null),s=!0,i||(c=v(n,"click",t[19]),i=!0)},p:e,i(e){s||(G(r.$$.fragment,e),s=!0)},o(e){W(r.$$.fragment,e),s=!1},d(e){e&&d(n),Y(r),i=!1,c()}}}function vn(e){let t,n,o,r,s,i,c,a,f,p,C,b,$=Hn(e[2].recording.outputDuration)+"";const S=[yn,wn],k=[];function L(e,t){return e[2].recording.outputPaused?0:1}return t=L(e),n=k[t]=S[t](e),i=new he({props:{path:"M18,18H6V6H18V18Z"}}),{c(){n.c(),o=g(),r=m("button"),s=m("span"),U(i.$$.fragment),c=g(),a=m("span"),f=h($),w(s,"class","icon"),w(r,"class","button is-danger"),w(r,"title","Stop Recording")},m(n,d){k[t].m(n,d),u(n,o,d),u(n,r,d),l(r,s),J(i,s,null),l(r,c),l(r,a),l(a,f),p=!0,C||(b=v(r,"click",e[20]),C=!0)},p(e,r){let s=t;t=L(e),t===s?k[t].p(e,r):(z(),W(k[s],1,1,(()=>{k[s]=null})),D(),n=k[t],n?n.p(e,r):(n=k[t]=S[t](e),n.c()),G(n,1),n.m(o.parentNode,o)),(!p||4&r[0])&&$!==($=Hn(e[2].recording.outputDuration)+"")&&y(f,$)},i(e){p||(G(n),G(i.$$.fragment,e),p=!0)},o(e){W(n),W(i.$$.fragment,e),p=!1},d(e){k[t].d(e),e&&d(o),e&&d(r),Y(i),C=!1,b()}}}function wn(t){let n,o,r,s,i,c;return r=new he({props:{path:"M14,19H18V5H14M6,19H10V5H6V19Z"}}),{c(){n=m("button"),o=m("span"),U(r.$$.fragment),w(o,"class","icon"),w(n,"class","button is-success"),w(n,"title","Pause Recording")},m(e,a){u(e,n,a),l(n,o),J(r,o,null),s=!0,i||(c=v(n,"click",t[21]),i=!0)},p:e,i(e){s||(G(r.$$.fragment,e),s=!0)},o(e){W(r.$$.fragment,e),s=!1},d(e){e&&d(n),Y(r),i=!1,c()}}}function yn(t){let n,o,r,s,i,c;return r=new he({props:{path:"M3,5V19L11,12M13,19H16V5H13M18,5V19H21V5"}}),{c(){n=m("button"),o=m("span"),U(r.$$.fragment),w(o,"class","icon"),w(n,"class","button is-danger"),w(n,"title","Resume Recording")},m(e,a){u(e,n,a),l(n,o),J(r,o,null),s=!0,i||(c=v(n,"click",t[22]),i=!0)},p:e,i(e){s||(G(r.$$.fragment,e),s=!0)},o(e){W(r.$$.fragment,e),s=!1},d(e){e&&d(n),Y(r),i=!1,c()}}}function bn(e){let t,n;return{c(){t=m("span"),n=h(e[11])},m(e,o){u(e,t,o),l(t,n)},p(e,t){2048&t[0]&&y(n,e[11])},d(e){e&&d(t)}}}function $n(t){let n,r,s,i,c,a,f,p,C,y,$,S,k,L,M,x,N,_,H,I,E,F,V,P,O,T,B,R="https:"===document.location.protocol&&function(t){let n,o,r,s,i,c,a,f,p,g,C,v;return{c(){n=m("div"),o=h("You are checking this page on a secure HTTPS connection. That's great, but it means you can\n          "),r=m("strong"),r.textContent="only",s=h("\n          connect to WSS (secure websocket) addresses, for example OBS exposed with\n          "),i=m("a"),i.textContent="ngrok",c=h("\n          or\n          "),a=m("a"),a.textContent="pagekite",f=h("\n          . If you want to connect to a local OBS instance,\n          "),p=m("strong"),g=m("a"),C=h("please click here to load the non-secure version of this page"),v=h("\n          ."),w(i,"href","https://ngrok.com/"),w(a,"href","https://pagekite.net/"),w(g,"href","http://"+document.location.hostname+(document.location.port?":"+document.location.port:"")+document.location.pathname),w(n,"class","notification is-danger")},m(e,t){u(e,n,t),l(n,o),l(n,r),l(n,s),l(n,i),l(n,c),l(n,a),l(n,f),l(n,p),l(p,g),l(g,C),l(n,v)},p:e,d(e){e&&d(n)}}}();return{c(){n=m("h1"),n.innerHTML='Welcome to\n        <strong>OBS-web</strong>\n        - the easiest way to control\n        <a href="https://obsproject.com/" target="_blank">OBS</a>\n        remotely!',r=g(),R&&R.c(),s=g(),i=m("p"),i.textContent='To get started, enter your OBS host:port below and click "connect".',c=g(),a=m("form"),f=m("div"),p=m("p"),C=m("input"),y=g(),$=m("input"),S=g(),k=m("p"),k.innerHTML='<button class="button is-success">Connect</button>',L=g(),M=m("p"),x=h("Make sure that you use "),N=m("a"),N.textContent="OBS v28+",_=h(" or install the\n        "),H=m("a"),I=h("obs-websocket "),E=h(_n),F=h(" plugin"),V=h("\n        for v27. If you use an older version of OBS, see the "),P=m("a"),P.textContent="archived OBS-web v4",O=h(" page."),w(n,"class","subtitle"),w(C,"id","host"),w(C,"class","input"),w(C,"type","text"),w(C,"autocomplete",""),w(C,"placeholder","ws://localhost:4455"),w($,"id","password"),w($,"class","input"),w($,"type","password"),w($,"autocomplete","current-password"),w($,"placeholder","password (leave empty if you have disabled authentication)"),w(p,"class","control is-expanded"),w(k,"class","control"),w(f,"class","field is-grouped"),w(N,"href","https://github.com/obsproject/obs-studio/releases"),w(H,"href","https://github.com/obsproject/obs-websocket/releases/tag/"+_n),w(H,"target","_blank"),w(P,"href","/v4/"),w(M,"class","help")},m(e,o){var d;u(e,n,o),u(e,r,o),R&&R.m(e,o),u(e,s,o),u(e,i,o),u(e,c,o),u(e,a,o),l(a,f),l(f,p),l(p,C),b(C,t[8]),l(p,y),l(p,$),b($,t[9]),l(f,S),l(f,k),u(e,L,o),u(e,M,o),l(M,x),l(M,N),l(M,_),l(M,H),l(H,I),l(H,E),l(H,F),l(M,V),l(M,P),l(M,O),T||(B=[v(C,"input",t[28]),v($,"input",t[29]),v(a,"submit",(d=t[23],function(e){return e.preventDefault(),d.call(this,e)}))],T=!0)},p(e,t){"https:"===document.location.protocol&&R.p(e,t),256&t[0]&&C.value!==e[8]&&b(C,e[8]),512&t[0]&&$.value!==e[9]&&b($,e[9])},i:e,o:e,d(e){e&&d(n),e&&d(r),R&&R.d(e),e&&d(s),e&&d(i),e&&d(c),e&&d(a),e&&d(L),e&&d(M),T=!1,o(B)}}}function Sn(e){let t,n,o,r,s,i,c,a=e[5]&&kn();function l(t){e[27](t)}let m={buttonStyle:e[0]?"icon":"text",editable:e[7]};void 0!==e[10]&&(m.scenes=e[10]),n=new Wt({props:m}),I.push((()=>function(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}(n,"scenes",l)));let p=!e[5]&&Ln(),h=e[10],v=[];for(let t=0;t<h.length;t+=1)v[t]=xn(un(e,h,t));const w=e=>W(v[e],1,1,(()=>{v[e]=null}));return{c(){a&&a.c(),t=g(),U(n.$$.fragment),r=g(),p&&p.c(),s=g();for(let e=0;e<v.length;e+=1)v[e].c();i=C()},m(e,o){a&&a.m(e,o),u(e,t,o),J(n,e,o),u(e,r,o),p&&p.m(e,o),u(e,s,o);for(let t=0;t<v.length;t+=1)v[t].m(e,o);u(e,i,o),c=!0},p(e,r){e[5]?a?32&r[0]&&G(a,1):(a=kn(),a.c(),G(a,1),a.m(t.parentNode,t)):a&&(z(),W(a,1,1,(()=>{a=null})),D());const c={};var l;if(1&r[0]&&(c.buttonStyle=e[0]?"icon":"text"),128&r[0]&&(c.editable=e[7]),!o&&1024&r[0]&&(o=!0,c.scenes=e[10],l=()=>o=!1,F.push(l)),n.$set(c),e[5]?p&&(z(),W(p,1,1,(()=>{p=null})),D()):p?32&r[0]&&G(p,1):(p=Ln(),p.c(),G(p,1),p.m(s.parentNode,s)),1024&r[0]){let t;for(h=e[10],t=0;t<h.length;t+=1){const n=un(e,h,t);v[t]?(v[t].p(n,r),G(v[t],1)):(v[t]=xn(n),v[t].c(),G(v[t],1),v[t].m(i.parentNode,i))}for(z(),t=h.length;t<v.length;t+=1)w(t);D()}},i(e){if(!c){G(a),G(n.$$.fragment,e),G(p);for(let e=0;e<h.length;e+=1)G(v[e]);c=!0}},o(e){W(a),W(n.$$.fragment,e),W(p),v=v.filter(Boolean);for(let e=0;e<v.length;e+=1)W(v[e]);c=!1},d(e){a&&a.d(e),e&&d(t),Y(n,e),e&&d(r),p&&p.d(e),e&&d(s),f(v,e),e&&d(i)}}}function kn(e){let t,n;return t=new Et({}),{c(){U(t.$$.fragment)},m(e,o){J(t,e,o),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){Y(t,e)}}}function Ln(e){let t,n;return t=new Et({}),{c(){U(t.$$.fragment)},m(e,o){J(t,e,o),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){Y(t,e)}}}function Mn(e){let t,n;return t=new Xt({props:{name:e[31].sceneName,buttonStyle:"screenshot"}}),{c(){U(t.$$.fragment)},m(e,o){J(t,e,o),n=!0},p(e,n){const o={};1024&n[0]&&(o.name=e[31].sceneName),t.$set(o)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){Y(t,e)}}}function xn(e){let t,n,o=e[31].sceneName.indexOf("(switch)")>0,r=o&&Mn(e);return{c(){r&&r.c(),t=C()},m(e,o){r&&r.m(e,o),u(e,t,o),n=!0},p(e,n){1024&n[0]&&(o=e[31].sceneName.indexOf("(switch)")>0),o?r?(r.p(e,n),1024&n[0]&&G(r,1)):(r=Mn(e),r.c(),G(r,1),r.m(t.parentNode,t)):r&&(z(),W(r,1,1,(()=>{r=null})),D())},i(e){n||(G(r),n=!0)},o(e){W(r),n=!1},d(e){r&&r.d(e),e&&d(t)}}}function Nn(e){let t,n,o,r,s,i,c,a,f,p,h,C,y,b,$,S,k,M,x,N,_,H,I,E;const F=[fn,dn],V=[];function P(e,t){return e[1]?0:1}f=P(e),p=V[f]=F[f](e),b=new he({props:{path:e[3]?te:ee}});const O=[Sn,$n],T=[];function B(e,t){return e[1]?0:1}return M=B(e),x=T[M]=O[M](e),{c(){t=g(),n=m("nav"),o=m("div"),o.innerHTML='<a class="navbar-item is-size-4 has-text-weight-bold" href="/"><img src="favicon.png" alt="OBS-web" class="rotate"/></a> \n\n    \n    <button class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navmenu"><span aria-hidden="true"></span> \n      <span aria-hidden="true"></span> \n      <span aria-hidden="true"></span></button>',r=g(),s=m("div"),i=m("div"),c=m("div"),a=m("div"),p.c(),h=g(),C=m("button"),y=m("span"),U(b.$$.fragment),$=g(),S=m("section"),k=m("div"),x.c(),N=g(),_=m("footer"),_.innerHTML='<div class="content has-text-centered"><p><strong>OBS-web</strong>\n      by\n      <a href="https://niekvandermaas.nl/">Niek van der Maas</a>\n       see\n      <a href="https://github.com/Niek/obs-web">GitHub</a>\n      for source code.</p></div>',ln.title="OBS-web remote control",w(o,"class","navbar-brand"),w(y,"class","icon"),w(C,"class","button is-link"),w(C,"title","Toggle Fullscreen"),L(C,"is-light",!e[3]),w(a,"class","buttons"),w(c,"class","navbar-item"),w(i,"class","navbar-end"),w(s,"id","navmenu"),w(s,"class","navbar-menu"),w(n,"class","navbar is-primary"),w(n,"aria-label","main navigation"),w(k,"class","container"),w(S,"class","section"),w(_,"class","footer")},m(d,m){u(d,t,m),u(d,n,m),l(n,o),l(n,r),l(n,s),l(s,i),l(i,c),l(c,a),V[f].m(a,null),l(a,h),l(a,C),l(C,y),J(b,y,null),u(d,$,m),u(d,S,m),l(S,k),T[M].m(k,null),u(d,N,m),u(d,_,m),H=!0,I||(E=v(C,"click",e[13]),I=!0)},p(e,t){let n=f;f=P(e),f===n?V[f].p(e,t):(z(),W(V[n],1,1,(()=>{V[n]=null})),D(),p=V[f],p?p.p(e,t):(p=V[f]=F[f](e),p.c()),G(p,1),p.m(a,h));const o={};8&t[0]&&(o.path=e[3]?te:ee),b.$set(o),(!H||8&t[0])&&L(C,"is-light",!e[3]);let r=M;M=B(e),M===r?T[M].p(e,t):(z(),W(T[r],1,1,(()=>{T[r]=null})),D(),x=T[M],x?x.p(e,t):(x=T[M]=O[M](e),x.c()),G(x,1),x.m(k,null))},i(e){H||(G(p),G(b.$$.fragment,e),G(x),H=!0)},o(e){W(p),W(b.$$.fragment,e),W(x),H=!1},d(e){e&&d(t),e&&d(n),V[f].d(),Y(b),e&&d($),e&&d(S),T[M].d(),e&&d(N),e&&d(_),I=!1,E()}}}const _n="5.0.1";function Hn(e){e=Math.round(e/1e3);const t=Math.floor(e/3600);e-=3600*t;const n=Math.floor(e/60);return e-=60*n,t>0?`${t}:${n<10?"0":""}${n}:${e<10?"0":""}${e}`:`${n<10?"0":""}${n}:${e<10?"0":""}${e}`}function In(e,t,n){let o;N((async()=>{if("serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js"),"wakeLock"in navigator)try{await navigator.wakeLock.request("screen"),document.addEventListener("visibilitychange",(async()=>{"visible"===document.visibilityState&&await navigator.wakeLock.request("screen")}))}catch(e){}const e=document.querySelector(".navbar-burger");e.addEventListener("click",(()=>{e.classList.toggle("is-active"),document.getElementById(e.dataset.target).classList.toggle("is-active")})),document.addEventListener("fullscreenchange",(()=>{n(3,s=document.fullscreenElement)})),document.addEventListener("webkitfullscreenchange",(()=>{n(3,s=document.webkitFullscreenElement)})),document.addEventListener("msfullscreenchange",(()=>{n(3,s=document.msFullscreenElement)})),""!==document.location.hash&&(n(8,l=document.location.hash.slice(1)),await C()),window.sendCommand=Mt}));let r,s,i,c,a,l,u,d={},f=window.localStorage.getItem("isIconMode")||!1,m=!1,p=[],h="",g="";async function C(){if(n(8,l=l||"ws://localhost:4455"),-1===l.indexOf("://")){const e="https:"===location.protocol||l.endsWith(":443");n(8,l=e?"wss://":"ws://"+l)}console.log("Connecting to:",l,"- using password:",u),await v();try{const{obsWebSocketVersion:e,negotiatedRpcVersion:t}=await Lt.connect(l,u);console.log(`Connected to obs-websocket version ${e} (using RPC ${t})`)}catch(e){console.log(e),n(12,g=e.message)}}async function v(){await Lt.disconnect(),clearInterval(r),n(1,o=!1),n(12,g="Disconnected")}Lt.on("ConnectionClosed",(()=>{n(1,o=!1),window.history.pushState("",document.title,window.location.pathname+window.location.search),console.log("Connection closed")})),Lt.on("Identified",(async()=>{console.log("Connected"),n(1,o=!0),document.location.hash=l;const e=(await Mt("GetVersion")).obsWebSocketVersion||"";console.log("OBS-websocket version:",e),((e,t)=>{const n=Ce(e),o=Ce(t),r=n.pop(),s=o.pop(),i=be(n,o);return 0!==i?i:r&&s?be(r.split("."),s.split(".")):r||s?r?-1:1:0})(e,_n)>0&&alert("You are running an outdated OBS-websocket (version "+e+"), please upgrade to the latest version for full compatibility."),r=setInterval((async()=>{const e=await Mt("GetStats"),t=await Mt("GetStreamStatus"),o=await Mt("GetRecordStatus");n(2,d={stats:e,streaming:t,recording:o})}),1e3),n(4,i=(await Mt("GetStudioModeEnabled")).studioModeEnabled||!1)})),Lt.on("ConnectionError",(async()=>{n(12,g="Please enter your password:"),document.getElementById("password").focus(),u?await C():n(1,o=!1)})),Lt.on("StudioModeStateChanged",(async e=>{console.log("StudioModeStateChanged",e.studioModeEnabled),n(4,i=e&&e.studioModeEnabled)})),Lt.on("ReplayBufferStateChanged",(async e=>{console.log("ReplayBufferStateChanged",e),n(6,a=e&&e.outputActive)}));return e.$$.update=()=>{1&e.$$.dirty[0]&&(f?window.localStorage.setItem("isIconMode","true"):window.localStorage.removeItem("isIconMode"))},[f,o,d,s,i,c,a,m,l,u,p,h,g,function(){s?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen()},async function(){await Mt("SetStudioModeEnabled",{studioModeEnabled:!i})},async function(){const e=await Mt("ToggleReplayBuffer");console.debug("ToggleReplayBuffer",e.outputActive),void 0===e.outputActive?(n(11,h="Replay buffer is not enabled."),setTimeout((function(){n(11,h="")}),5e3)):n(6,a=e.outputActive)},async function(){n(5,c=!c)},async function(){await Mt("StartStream")},async function(){await Mt("StopStream")},async function(){await Mt("StartRecord")},async function(){await Mt("StopRecord")},async function(){await Mt("PauseRecord")},async function(){await Mt("ResumeRecord")},C,v,()=>n(7,m=!m),()=>n(0,f=!f),function(e){p=e,n(10,p)},function(){l=this.value,n(8,l)},function(){u=this.value,n(9,u)}]}return new class extends Q{constructor(e){super(),K(this,e,In,Nn,s,{},null,[-1,-1])}}({target:document.body})}();
