var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function l(t){return document.createElement(t)}function f(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function h(t){return document.createTextNode(t)}function p(){return h(" ")}function d(){return h("")}function g(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function y(t,e){t.value=null==e?"":e}function v(t,e,n){t.classList[n?"add":"remove"](e)}let b;function C(t){b=t}function _(t){(function(){if(!b)throw new Error("Function called outside component initialization");return b})().$$.on_mount.push(t)}const E=[],S=[],k=[],T=[],A=Promise.resolve();let $=!1;function M(t){k.push(t)}const R=new Set;let L=0;function x(){const t=b;do{for(;L<E.length;){const t=E[L];L++,C(t),F(t.$$)}for(C(null),E.length=0,L=0;S.length;)S.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];R.has(e)||(R.add(e),e())}k.length=0}while(E.length);for(;T.length;)T.pop()();$=!1,R.clear(),C(t)}function F(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(M)}}const P=new Set;let O;function H(){O={r:0,c:[],p:O}}function B(){O.r||r(O.c),O=O.p}function I(t,e){t&&t.i&&(P.delete(t),t.i(e))}function U(t,e,n,r){if(t&&t.o){if(P.has(t))return;P.add(t),O.c.push((()=>{P.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const N="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function V(t){t&&t.c()}function Y(t,n,i,s){const{fragment:a,on_mount:c,on_destroy:u,after_update:l}=t.$$;a&&a.m(n,i),s||M((()=>{const n=c.map(e).filter(o);u?u.push(...n):r(n),t.$$.on_mount=[]})),l.forEach(M)}function D(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function z(t,e){-1===t.$$.dirty[0]&&(E.push(t),$||($=!0,A.then(x)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function j(e,o,i,s,a,u,l,f=[-1]){const h=b;C(e);const p=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(h?h.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||h.$$.root};l&&l(p.root);let d=!1;if(p.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),d&&z(e,t)),n})):[],p.update(),d=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(c)}else p.fragment&&p.fragment.c();o.intro&&I(e.$$.fragment),Y(e,o.target,o.anchor,o.customElement),x()}C(h)}class q{$destroy(){D(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var W="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z",Z="M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z";function G(t){let e,n;return{c(){e=f("title"),n=h(t[2])},m(t,r){a(t,e,r),s(e,n)},p(t,e){4&e&&w(n,t[2])},d(t){t&&c(e)}}}function J(t){let e;return{c(){e=f("path"),m(e,"d",t[0])},m(t,n){a(t,e,n)},p(t,n){1&n&&m(e,"d",t[0])},d(t){t&&c(e)}}}function X(t){let e,n,r;function o(t,e){return t[3]?K:Q}let i=o(t),u=i(t);return{c(){u.c(),e=f("g"),n=f("path"),m(n,"d",t[0]),m(e,"style",r=`animation: ${t[5]} linear ${t[6]}s infinite; transform-origin: center`)},m(t,r){u.m(t,r),a(t,e,r),s(e,n)},p(t,s){i!==(i=o(t))&&(u.d(1),u=i(t),u&&(u.c(),u.m(e.parentNode,e))),1&s&&m(n,"d",t[0]),96&s&&r!==(r=`animation: ${t[5]} linear ${t[6]}s infinite; transform-origin: center`)&&m(e,"style",r)},d(t){u.d(t),t&&c(e)}}}function Q(t){let e,n;return{c(){e=f("style"),n=h("@keyframes spin { to { transform: rotate(360deg) } }")},m(t,r){a(t,e,r),s(e,n)},d(t){t&&c(e)}}}function K(t){let e,n;return{c(){e=f("style"),n=h("@keyframes spin-inverse { to { transform: rotate(-360deg) } }")},m(t,r){a(t,e,r),s(e,n)},d(t){t&&c(e)}}}function tt(e){let n,r,o=e[2]&&G(e);function i(t,e){return!1!==t[1]?X:J}let u=i(e),l=u(e);return{c(){n=f("svg"),o&&o.c(),r=d(),l.c(),m(n,"viewBox","0 0 24 24"),m(n,"style",e[4]),m(n,"class","svelte-dmmfjb")},m(t,e){a(t,n,e),o&&o.m(n,null),s(n,r),l.m(n,null)},p(t,[e]){t[2]?o?o.p(t,e):(o=G(t),o.c(),o.m(n,r)):o&&(o.d(1),o=null),u===(u=i(t))&&l?l.p(t,e):(l.d(1),l=u(t),l&&(l.c(),l.m(n,null))),16&e&&m(n,"style",t[4])},i:t,o:t,d(t){t&&c(n),o&&o.d(),l.d()}}}function et(t,e,n){let r,o,i,s,{path:a}=e,{size:c=1}=e,{color:u=null}=e,{flip:l=null}=e,{rotate:f=0}=e,{spin:h=!1}=e,{title:p=""}=e;Number(c)&&(c=Number(c));return t.$$set=t=>{"path"in t&&n(0,a=t.path),"size"in t&&n(7,c=t.size),"color"in t&&n(8,u=t.color),"flip"in t&&n(9,l=t.flip),"rotate"in t&&n(10,f=t.rotate),"spin"in t&&n(1,h=t.spin),"title"in t&&n(2,p=t.title)},t.$$.update=()=>{2&t.$$.dirty&&n(3,r="boolean"!=typeof h&&h<0),2&t.$$.dirty&&n(6,o=Math.abs(!0===h?2:h)),8&t.$$.dirty&&n(5,i=r?"spin-inverse":"spin"),1920&t.$$.dirty&&n(4,s=(()=>{const t=[],e=[];if(null!==c){const t="string"==typeof c?c:1.5*c+"rem";e.push(["width",t]),e.push(["height",t])}return e.push(["fill",null!==u?u:"currentColor"]),!0!==l&&"h"!==l||t.push("scaleX(-1)"),!0!==l&&"v"!==l||t.push("scaleY(-1)"),0!=f&&t.push(`rotate(${f}deg)`),t.length>0&&(e.push(["transform",t.join(" ")]),e.push(["transform-origin","center"])),e.reduce(((t,e)=>`${t} ${e[0]}:${e[1]};`),"")})())},[a,h,p,r,s,i,o,c,u,l,f]}class nt extends q{constructor(t){super(),j(this,t,et,tt,i,{path:0,size:7,color:8,flip:9,rotate:10,spin:1,title:2})}}function rt(t,e){const n=st(t),r=st(e),o=n.pop(),i=r.pop(),s=lt(n,r);return 0!==s?s:o&&i?lt(o.split("."),i.split(".")):o||i?o?-1:1:0}const ot=(t,e,n)=>{pt(n);const r=rt(t,e);return ft[n].includes(r)};rt.validate=t=>"string"==typeof t&&/^[v\d]/.test(t)&&it.test(t),rt.compare=ot,rt.sastisfies=(t,e)=>{const n=e.match(/^([<>=~^]+)/),r=n?n[1]:"=";if("^"!==r&&"~"!==r)return ot(t,e,r);const[o,i,s]=st(t),[a,c,u]=st(e);return 0===ut(o,a)&&("^"===r?lt([i,s],[c,u])>=0:0===ut(i,c)&&ut(s,u)>=0)};const it=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,st=t=>{if("string"!=typeof t)throw new TypeError("Invalid argument expected string");const e=t.match(it);if(!e)throw new Error(`Invalid argument not valid semver ('${t}' received)`);return e.shift(),e},at=t=>"*"===t||"x"===t||"X"===t,ct=t=>{const e=parseInt(t,10);return isNaN(e)?t:e},ut=(t,e)=>{if(at(t)||at(e))return 0;const[n,r]=((t,e)=>typeof t!=typeof e?[String(t),String(e)]:[t,e])(ct(t),ct(e));return n>r?1:n<r?-1:0},lt=(t,e)=>{for(let n=0;n<Math.max(t.length,e.length);n++){const r=ut(t[n]||0,e[n]||0);if(0!==r)return r}return 0},ft={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},ht=Object.keys(ft),pt=t=>{if("string"!=typeof t)throw new TypeError("Invalid operator type, expected string but got "+typeof t);if(-1===ht.indexOf(t))throw new Error(`Invalid operator, expected one of ${ht.join("|")}`)};var dt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function gt(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var mt=null;"undefined"!=typeof WebSocket?mt=WebSocket:"undefined"!=typeof MozWebSocket?mt=MozWebSocket:void 0!==dt?mt=dt.WebSocket||dt.MozWebSocket:"undefined"!=typeof window?mt=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(mt=self.WebSocket||self.MozWebSocket);var wt=mt;function yt(){}function vt(){vt.init.call(this)}function bt(t){return void 0===t._maxListeners?vt.defaultMaxListeners:t._maxListeners}function Ct(t,e,n){if(e)t.call(n);else for(var r=t.length,o=Mt(t,r),i=0;i<r;++i)o[i].call(n)}function _t(t,e,n,r){if(e)t.call(n,r);else for(var o=t.length,i=Mt(t,o),s=0;s<o;++s)i[s].call(n,r)}function Et(t,e,n,r,o){if(e)t.call(n,r,o);else for(var i=t.length,s=Mt(t,i),a=0;a<i;++a)s[a].call(n,r,o)}function St(t,e,n,r,o,i){if(e)t.call(n,r,o,i);else for(var s=t.length,a=Mt(t,s),c=0;c<s;++c)a[c].call(n,r,o,i)}function kt(t,e,n,r){if(e)t.apply(n,r);else for(var o=t.length,i=Mt(t,o),s=0;s<o;++s)i[s].apply(n,r)}function Tt(t,e,n,r){var o,i,s,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((i=t._events)?(i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),s=i[e]):(i=t._events=new yt,t._eventsCount=0),s){if("function"==typeof s?s=i[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(o=bt(t))&&o>0&&s.length>o){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,"function"==typeof console.warn?console.warn(a):console.log(a)}}else s=i[e]=n,++t._eventsCount;return t}function At(t,e,n){var r=!1;function o(){t.removeListener(e,o),r||(r=!0,n.apply(t,arguments))}return o.listener=n,o}function $t(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function Mt(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}yt.prototype=Object.create(null),vt.EventEmitter=vt,vt.usingDomains=!1,vt.prototype.domain=void 0,vt.prototype._events=void 0,vt.prototype._maxListeners=void 0,vt.defaultMaxListeners=10,vt.init=function(){this.domain=null,vt.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new yt,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},vt.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},vt.prototype.getMaxListeners=function(){return bt(this)},vt.prototype.emit=function(t){var e,n,r,o,i,s,a,c="error"===t;if(s=this._events)c=c&&null==s.error;else if(!c)return!1;if(a=this.domain,c){if(e=arguments[1],!a){if(e instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit("error",e),!1}if(!(n=s[t]))return!1;var l="function"==typeof n;switch(r=arguments.length){case 1:Ct(n,l,this);break;case 2:_t(n,l,this,arguments[1]);break;case 3:Et(n,l,this,arguments[1],arguments[2]);break;case 4:St(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(r-1),i=1;i<r;i++)o[i-1]=arguments[i];kt(n,l,this,o)}return!0},vt.prototype.addListener=function(t,e){return Tt(this,t,e,!1)},vt.prototype.on=vt.prototype.addListener,vt.prototype.prependListener=function(t,e){return Tt(this,t,e,!0)},vt.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,At(this,t,e)),this},vt.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,At(this,t,e)),this},vt.prototype.removeListener=function(t,e){var n,r,o,i,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)0==--this._eventsCount?this._events=new yt:(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length;i-- >0;)if(n[i]===e||n[i].listener&&n[i].listener===e){s=n[i].listener,o=i;break}if(o<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new yt,this;delete r[t]}else!function(t,e){for(var n=e,r=n+1,o=t.length;r<o;n+=1,r+=1)t[n]=t[r];t.pop()}(n,o);r.removeListener&&this.emit("removeListener",t,s||e)}return this},vt.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new yt,this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=new yt:delete n[t]),this;if(0===arguments.length){for(var r,o=Object.keys(n),i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new yt,this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},vt.prototype.listeners=function(t){var e,n=this._events;return n&&(e=n[t])?"function"==typeof e?[e.listener||e]:function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(e):[]},vt.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):$t.call(t,e)},vt.prototype.listenerCount=$t,vt.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Rt=gt((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}})),Lt="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},xt=[],Ft=[],Pt="undefined"!=typeof Uint8Array?Uint8Array:Array,Ot=!1;function Ht(){Ot=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)xt[e]=t[e],Ft[t.charCodeAt(e)]=e;Ft["-".charCodeAt(0)]=62,Ft["_".charCodeAt(0)]=63}function Bt(t,e,n){for(var r,o,i=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push(xt[(o=r)>>18&63]+xt[o>>12&63]+xt[o>>6&63]+xt[63&o]);return i.join("")}function It(t){var e;Ot||Ht();for(var n=t.length,r=n%3,o="",i=[],s=16383,a=0,c=n-r;a<c;a+=s)i.push(Bt(t,a,a+s>c?c:a+s));return 1===r?(e=t[n-1],o+=xt[e>>2],o+=xt[e<<4&63],o+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],o+=xt[e>>10],o+=xt[e>>4&63],o+=xt[e<<2&63],o+="="),i.push(o),i.join("")}function Ut(t,e,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?o-1:0,h=n?-1:1,p=t[e+f];for(f+=h,i=p&(1<<-l)-1,p>>=-l,l+=a;l>0;i=256*i+t[e+f],f+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=u}return(p?-1:1)*s*Math.pow(2,i-r)}function Nt(t,e,n,r,o,i){var s,a,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*c-1)*Math.pow(2,o),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;t[n+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[n+p]=255&s,p+=d,s/=256,u-=8);t[n+p-d]|=128*g}var Vt={}.toString,Yt=Array.isArray||function(t){return"[object Array]"==Vt.call(t)};qt.TYPED_ARRAY_SUPPORT=void 0===Lt.TYPED_ARRAY_SUPPORT||Lt.TYPED_ARRAY_SUPPORT;var Dt=zt();function zt(){return qt.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function jt(t,e){if(zt()<e)throw new RangeError("Invalid typed array length");return qt.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=qt.prototype:(null===t&&(t=new qt(e)),t.length=e),t}function qt(t,e,n){if(!(qt.TYPED_ARRAY_SUPPORT||this instanceof qt))return new qt(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return Gt(this,t)}return Wt(this,t,e,n)}function Wt(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);qt.TYPED_ARRAY_SUPPORT?(t=e).__proto__=qt.prototype:t=Jt(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!qt.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|Kt(e,n),o=(t=jt(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(Qt(e)){var n=0|Xt(e.length);return 0===(t=jt(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?jt(t,0):Jt(t,e);if("Buffer"===e.type&&Yt(e.data))return Jt(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function Zt(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Gt(t,e){if(Zt(e),t=jt(t,e<0?0:0|Xt(e)),!qt.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function Jt(t,e){var n=e.length<0?0:0|Xt(e.length);t=jt(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function Xt(t){if(t>=zt())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+zt().toString(16)+" bytes");return 0|t}function Qt(t){return!(null==t||!t._isBuffer)}function Kt(t,e){if(Qt(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Te(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Ae(t).length;default:if(r)return Te(t).length;e=(""+e).toLowerCase(),r=!0}}function te(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return ge(this,e,n);case"utf8":case"utf-8":return fe(this,e,n);case"ascii":return pe(this,e,n);case"latin1":case"binary":return de(this,e,n);case"base64":return le(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function ee(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ne(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=qt.from(e,r)),Qt(e))return 0===e.length?-1:re(t,e,n,r,o);if("number"==typeof e)return e&=255,qt.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):re(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function re(t,e,n,r,o){var i,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var l=-1;for(i=n;i<a;i++)if(u(t,i)===u(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){for(var f=!0,h=0;h<c;h++)if(u(t,i+h)!==u(e,h)){f=!1;break}if(f)return i}return-1}function oe(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function ie(t,e,n,r){return $e(Te(e,t.length-n),t,n,r)}function se(t,e,n,r){return $e(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function ae(t,e,n,r){return se(t,e,n,r)}function ce(t,e,n,r){return $e(Ae(e),t,n,r)}function ue(t,e,n,r){return $e(function(t,e){for(var n,r,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function le(t,e,n){return 0===e&&n===t.length?It(t):It(t.slice(e,n))}function fe(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,s,a,c,u=t[o],l=null,f=u>239?4:u>223?3:u>191?2:1;if(o+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(i=t[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=t[o+1],s=t[o+2],128==(192&i)&&128==(192&s)&&(c=(15&u)<<12|(63&i)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=t[o+1],s=t[o+2],a=t[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(t){var e=t.length;if(e<=he)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=he));return n}(r)}qt.poolSize=8192,qt._augment=function(t){return t.__proto__=qt.prototype,t},qt.from=function(t,e,n){return Wt(null,t,e,n)},qt.TYPED_ARRAY_SUPPORT&&(qt.prototype.__proto__=Uint8Array.prototype,qt.__proto__=Uint8Array),qt.alloc=function(t,e,n){return function(t,e,n,r){return Zt(e),e<=0?jt(t,e):void 0!==n?"string"==typeof r?jt(t,e).fill(n,r):jt(t,e).fill(n):jt(t,e)}(null,t,e,n)},qt.allocUnsafe=function(t){return Gt(null,t)},qt.allocUnsafeSlow=function(t){return Gt(null,t)},qt.isBuffer=Me,qt.compare=function(t,e){if(!Qt(t)||!Qt(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},qt.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},qt.concat=function(t,e){if(!Yt(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return qt.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=qt.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var i=t[n];if(!Qt(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},qt.byteLength=Kt,qt.prototype._isBuffer=!0,qt.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)ee(this,e,e+1);return this},qt.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)ee(this,e,e+3),ee(this,e+1,e+2);return this},qt.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)ee(this,e,e+7),ee(this,e+1,e+6),ee(this,e+2,e+5),ee(this,e+3,e+4);return this},qt.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?fe(this,0,t):te.apply(this,arguments)},qt.prototype.equals=function(t){if(!Qt(t))throw new TypeError("Argument must be a Buffer");return this===t||0===qt.compare(this,t)},qt.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},qt.prototype.compare=function(t,e,n,r,o){if(!Qt(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(i,s),c=this.slice(r,o),u=t.slice(e,n),l=0;l<a;++l)if(c[l]!==u[l]){i=c[l],s=u[l];break}return i<s?-1:s<i?1:0},qt.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},qt.prototype.indexOf=function(t,e,n){return ne(this,t,e,n,!0)},qt.prototype.lastIndexOf=function(t,e,n){return ne(this,t,e,n,!1)},qt.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return oe(this,t,e,n);case"utf8":case"utf-8":return ie(this,t,e,n);case"ascii":return se(this,t,e,n);case"latin1":case"binary":return ae(this,t,e,n);case"base64":return ce(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},qt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var he=4096;function pe(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function de(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function ge(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=ke(t[i]);return o}function me(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function we(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function ye(t,e,n,r,o,i){if(!Qt(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function ve(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function be(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function Ce(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function _e(t,e,n,r,o){return o||Ce(t,0,n,4),Nt(t,e,n,r,23,4),n+4}function Ee(t,e,n,r,o){return o||Ce(t,0,n,8),Nt(t,e,n,r,52,8),n+8}qt.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),qt.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=qt.prototype;else{var o=e-t;n=new qt(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},qt.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||we(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},qt.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||we(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},qt.prototype.readUInt8=function(t,e){return e||we(t,1,this.length),this[t]},qt.prototype.readUInt16LE=function(t,e){return e||we(t,2,this.length),this[t]|this[t+1]<<8},qt.prototype.readUInt16BE=function(t,e){return e||we(t,2,this.length),this[t]<<8|this[t+1]},qt.prototype.readUInt32LE=function(t,e){return e||we(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},qt.prototype.readUInt32BE=function(t,e){return e||we(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},qt.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||we(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},qt.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||we(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},qt.prototype.readInt8=function(t,e){return e||we(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},qt.prototype.readInt16LE=function(t,e){e||we(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},qt.prototype.readInt16BE=function(t,e){e||we(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},qt.prototype.readInt32LE=function(t,e){return e||we(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},qt.prototype.readInt32BE=function(t,e){return e||we(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},qt.prototype.readFloatLE=function(t,e){return e||we(t,4,this.length),Ut(this,t,!0,23,4)},qt.prototype.readFloatBE=function(t,e){return e||we(t,4,this.length),Ut(this,t,!1,23,4)},qt.prototype.readDoubleLE=function(t,e){return e||we(t,8,this.length),Ut(this,t,!0,52,8)},qt.prototype.readDoubleBE=function(t,e){return e||we(t,8,this.length),Ut(this,t,!1,52,8)},qt.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||ye(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},qt.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||ye(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},qt.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||ye(this,t,e,1,255,0),qt.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},qt.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||ye(this,t,e,2,65535,0),qt.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):ve(this,t,e,!0),e+2},qt.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||ye(this,t,e,2,65535,0),qt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):ve(this,t,e,!1),e+2},qt.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||ye(this,t,e,4,4294967295,0),qt.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):be(this,t,e,!0),e+4},qt.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||ye(this,t,e,4,4294967295,0),qt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):be(this,t,e,!1),e+4},qt.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);ye(this,t,e,n,o-1,-o)}var i=0,s=1,a=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},qt.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);ye(this,t,e,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},qt.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||ye(this,t,e,1,127,-128),qt.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},qt.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||ye(this,t,e,2,32767,-32768),qt.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):ve(this,t,e,!0),e+2},qt.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||ye(this,t,e,2,32767,-32768),qt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):ve(this,t,e,!1),e+2},qt.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||ye(this,t,e,4,2147483647,-2147483648),qt.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):be(this,t,e,!0),e+4},qt.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||ye(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),qt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):be(this,t,e,!1),e+4},qt.prototype.writeFloatLE=function(t,e,n){return _e(this,t,e,!0,n)},qt.prototype.writeFloatBE=function(t,e,n){return _e(this,t,e,!1,n)},qt.prototype.writeDoubleLE=function(t,e,n){return Ee(this,t,e,!0,n)},qt.prototype.writeDoubleBE=function(t,e,n){return Ee(this,t,e,!1,n)},qt.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!qt.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},qt.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!qt.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=Qt(t)?t:Te(new qt(t,r).toString()),a=s.length;for(i=0;i<n-e;++i)this[i+e]=s[i%a]}return this};var Se=/[^+\/0-9A-Za-z-_]/g;function ke(t){return t<16?"0"+t.toString(16):t.toString(16)}function Te(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Ae(t){return function(t){var e,n,r,o,i,s;Ot||Ht();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===t[a-2]?2:"="===t[a-1]?1:0,s=new Pt(3*a/4-i),r=i>0?a-4:a;var c=0;for(e=0,n=0;e<r;e+=4,n+=3)o=Ft[t.charCodeAt(e)]<<18|Ft[t.charCodeAt(e+1)]<<12|Ft[t.charCodeAt(e+2)]<<6|Ft[t.charCodeAt(e+3)],s[c++]=o>>16&255,s[c++]=o>>8&255,s[c++]=255&o;return 2===i?(o=Ft[t.charCodeAt(e)]<<2|Ft[t.charCodeAt(e+1)]>>4,s[c++]=255&o):1===i&&(o=Ft[t.charCodeAt(e)]<<10|Ft[t.charCodeAt(e+1)]<<4|Ft[t.charCodeAt(e+2)]>>2,s[c++]=o>>8&255,s[c++]=255&o),s}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(Se,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function $e(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function Me(t){return null!=t&&(!!t._isBuffer||Re(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Re(t.slice(0,0))}(t))}function Re(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Le=Object.freeze({__proto__:null,Buffer:qt,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),qt.alloc(+t)},isBuffer:Me,kMaxLength:Dt}),xe=gt((function(t,e){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=Le.Buffer;function r(t,e){for(var n in t)e[n]=t[n]}function o(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=Le:(r(Le,e),e.Buffer=o),o.prototype=Object.create(n.prototype),r(n,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var o=n(t);return void 0!==e?"string"==typeof r?o.fill(e,r):o.fill(e):o.fill(0),o},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return Le.SlowBuffer(t)}})),Fe=xe.Buffer;function Pe(t,e){this._block=Fe.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Pe.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=Fe.from(t,e));for(var n=this._block,r=this._blockSize,o=t.length,i=this._len,s=0;s<o;){for(var a=i%r,c=Math.min(o-s,r-a),u=0;u<c;u++)n[a+u]=t[s+u];s+=c,(i+=c)%r==0&&this._update(n)}return this._len+=o,this},Pe.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,o=(n-r)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var i=this._hash();return t?i.toString(t):i},Pe.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Oe=Pe,He=xe.Buffer,Be=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Ie=new Array(64);function Ue(){this.init(),this._w=Ie,Oe.call(this,64,56)}function Ne(t,e,n){return n^t&(e^n)}function Ve(t,e,n){return t&e|n&(t|e)}function Ye(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function De(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function ze(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}Rt(Ue,Oe),Ue.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Ue.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,o=0|this._b,i=0|this._c,s=0|this._d,a=0|this._e,c=0|this._f,u=0|this._g,l=0|this._h,f=0;f<16;++f)n[f]=t.readInt32BE(4*f);for(;f<64;++f)n[f]=0|(((e=n[f-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[f-7]+ze(n[f-15])+n[f-16];for(var h=0;h<64;++h){var p=l+De(a)+Ne(a,c,u)+Be[h]+n[h]|0,d=Ye(r)+Ve(r,o,i)|0;l=u,u=c,c=a,a=s+p|0,s=i,i=o,o=r,r=p+d|0}this._a=r+this._a|0,this._b=o+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=c+this._f|0,this._g=u+this._g|0,this._h=l+this._h|0},Ue.prototype._hash=function(){var t=He.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var je=Ue,qe=function(t="",e="",n){const r=(new je).update(n).update(t).digest("base64");return(new je).update(r).update(e).digest("base64")},We={NOT_CONNECTED:{status:"error",description:"There is no Socket connection available."},CONNECTION_ERROR:{status:"error",description:"Connection error."},SOCKET_EXCEPTION:{status:"error",description:"An exception occurred from the underlying WebSocket."},AUTH_NOT_REQUIRED:{status:"ok",description:"Authentication is not required."},REQUEST_TYPE_NOT_SPECIFIED:{status:"error",description:"A Request Type was not specified."},ARGS_NOT_OBJECT:{status:"error",description:"The supplied argments parameter is not an object."},init(){for(const t in this)({}).hasOwnProperty.call(this,t)&&(this[t].code=t,"error"!==this[t].status||this[t].error||(this[t].error=this[t].description));return delete this.init,this}}.init();function Ze(){throw new Error("setTimeout has not been defined")}function Ge(){throw new Error("clearTimeout has not been defined")}var Je=Ze,Xe=Ge;function Qe(t){if(Je===setTimeout)return setTimeout(t,0);if((Je===Ze||!Je)&&setTimeout)return Je=setTimeout,setTimeout(t,0);try{return Je(t,0)}catch(e){try{return Je.call(null,t,0)}catch(e){return Je.call(this,t,0)}}}"function"==typeof Lt.setTimeout&&(Je=setTimeout),"function"==typeof Lt.clearTimeout&&(Xe=clearTimeout);var Ke,tn=[],en=!1,nn=-1;function rn(){en&&Ke&&(en=!1,Ke.length?tn=Ke.concat(tn):nn=-1,tn.length&&on())}function on(){if(!en){var t=Qe(rn);en=!0;for(var e=tn.length;e;){for(Ke=tn,tn=[];++nn<e;)Ke&&Ke[nn].run();nn=-1,e=tn.length}Ke=null,en=!1,function(t){if(Xe===clearTimeout)return clearTimeout(t);if((Xe===Ge||!Xe)&&clearTimeout)return Xe=clearTimeout,clearTimeout(t);try{Xe(t)}catch(e){try{return Xe.call(null,t)}catch(e){return Xe.call(this,t)}}}(t)}}function sn(t,e){this.fun=t,this.array=e}sn.prototype.run=function(){this.fun.apply(null,this.array)};function an(){}var cn=an,un=an,ln=an,fn=an,hn=an,pn=an,dn=an;var gn=Lt.performance||{},mn=gn.now||gn.mozNow||gn.msNow||gn.oNow||gn.webkitNow||function(){return(new Date).getTime()};var wn=new Date;var yn={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];tn.push(new sn(t,e)),1!==tn.length||en||Qe(on)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:cn,addListener:un,once:ln,off:fn,removeListener:hn,removeAllListeners:pn,emit:dn,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*mn.call(gn),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-wn)/1e3}},vn=yn,bn=1e3,Cn=60*bn,_n=60*Cn,En=24*_n,Sn=7*En,kn=365.25*En,Tn=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*kn;case"weeks":case"week":case"w":return n*Sn;case"days":case"day":case"d":return n*En;case"hours":case"hour":case"hrs":case"hr":case"h":return n*_n;case"minutes":case"minute":case"mins":case"min":case"m":return n*Cn;case"seconds":case"second":case"secs":case"sec":case"s":return n*bn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===n&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=En)return An(t,e,En,"day");if(e>=_n)return An(t,e,_n,"hour");if(e>=Cn)return An(t,e,Cn,"minute");if(e>=bn)return An(t,e,bn,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=En)return Math.round(t/En)+"d";if(e>=_n)return Math.round(t/_n)+"h";if(e>=Cn)return Math.round(t/Cn)+"m";if(e>=bn)return Math.round(t/bn)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function An(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}var $n=function(t){function e(t){let r,o,i,s=null;function a(...t){if(!a.enabled)return;const n=a,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";s++;const i=e.formatters[o];if("function"==typeof i){const e=t[s];r=i.call(n,e),t.splice(s,1),s--}return r})),e.formatArgs.call(n,t);(n.log||e.log).apply(n,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=n,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==e.namespaces&&(o=e.namespaces,i=e.enabled(t)),i),set:t=>{s=t}}),"function"==typeof e.init&&e.init(a),a}function n(t,n){const r=e(this.namespace+(void 0===n?":":n)+t);return r.log=this.log,r}function r(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},e.disable=function(){const t=[...e.names.map(r),...e.skips.map(r).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.slice(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=Tn,e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((n=>{e[n]=t[n]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e},Mn=gt((function(t,e){e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(r++,"%c"===t&&(o=r))})),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==vn&&"env"in vn&&(t=vn.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=$n(e);const{formatters:n}=t.exports;n.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}})),Rn=function(t,e,n){n&&n.stack?t(`${e}\n %O`,n.stack):t("object"==typeof n?`${e} %o`:`${e} %s`,n)};const Ln=Mn("obs-websocket-js:Socket");var xn=class extends vt{constructor(){super(),this._connected=!1,this._socket=void 0;const t=this.emit;this.emit=function(...e){Ln("[emit] %s err: %o data: %o",...e),t.apply(this,e)}}async connect(t={}){const e=(t=t||{}).address||"localhost:4444";if(this._socket)try{this._socket.close()}catch(t){Ln("Failed to close previous WebSocket:",t.message)}return new Promise((async(n,r)=>{try{await this._connect(e,Boolean(t.secure)),await this._authenticate(t.password),n()}catch(t){this._socket.close(),this._connected=!1,Rn(Ln,"Connection failed:",t),r(t)}}))}async _connect(t,e){return new Promise(((n,r)=>{let o=!1;Ln("Attempting to connect to: %s (secure: %s)",t,e),this._socket=new wt((e?"wss://":"ws://")+t),this._socket.onerror=t=>{if(o)return Rn(Ln,"Unknown Socket Error",t),void this.emit("error",t);o=!0,Rn(Ln,"Websocket Connection failed:",t),r(We.CONNECTION_ERROR)},this._socket.onopen=()=>{o||(this._connected=!0,o=!0,Ln("Connection opened: %s",t),this.emit("ConnectionOpened"),n())},this._socket.onclose=()=>{this._connected=!1,Ln("Connection closed: %s",t),this.emit("ConnectionClosed")},this._socket.onmessage=t=>{Ln("[OnMessage]: %o",t);const e=function(t){t=t||{};for(const e in t)({}).hasOwnProperty.call(t,e)&&(t[e.replace(/-([a-z])/gi,((t,e)=>e.toUpperCase()))]=t[e]);return t}(JSON.parse(t.data));let n,r;"error"===e.status?n=e:r=e,e.messageId?this.emit(`obs:internal:message:id-${e.messageId}`,n,r):e.updateType?this.emit(e.updateType,r):(Rn(Ln,"Unrecognized Socket Message:",e),this.emit("message",e))}}))}async _authenticate(t=""){if(!this._connected)throw We.NOT_CONNECTED;const e=await this.send("GetAuthRequired");if(!e.authRequired)return Ln("Authentication not Required"),this.emit("AuthenticationSuccess"),We.AUTH_NOT_REQUIRED;try{await this.send("Authenticate",{auth:qe(e.salt,e.challenge,t)})}catch(t){throw Ln("Authentication Failure %o",t),this.emit("AuthenticationFailure"),t}Ln("Authentication Success"),this.emit("AuthenticationSuccess")}disconnect(){Ln("Disconnect requested."),this._socket&&this._socket.close()}};const Fn=Mn("obs-websocket-js:Core");let Pn=0;var On=class extends xn{send(t,e={}){return e=e||{},new Promise(((n,r)=>{const o=String(Pn++);let i;if(t||(i=We.REQUEST_TYPE_NOT_SPECIFIED),e&&("object"!=typeof e||null===e||Array.isArray(e))&&(i=We.ARGS_NOT_OBJECT),this._connected||(i=We.NOT_CONNECTED),this.once(`obs:internal:message:id-${o}`,((t,e)=>{t?(Fn("[send:reject] %o",t),r(t)):(Fn("[send:resolve] %o",e),n(e))})),!i){e["request-type"]=t,e["message-id"]=o,Fn("[send] %s %s %o",o,t,e);try{this._socket.send(JSON.stringify(e))}catch(t){i=We.SOCKET_EXCEPTION}}i&&this.emit(`obs:internal:message:id-${o}`,i)}))}sendCallback(t,e={},n){void 0===n&&"function"==typeof e&&(n=e,e={}),this.send(t,e).then(((...t)=>{n(null,...t)})).catch((t=>{n(t)}))}};function Hn(t){let e,n,r,i,u,f;return{c(){e=l("div"),e.innerHTML='<img id="preview" class="is-hidden has-background-dark" alt="Preview"/>',n=p(),r=l("div"),i=l("button"),i.textContent="Transition",m(e,"class","column"),m(i,"class","button is-fullwidth is-info"),m(r,"class","column is-narrow")},m(c,l){a(c,e,l),a(c,n,l),a(c,r,l),s(r,i),u||(f=g(i,"click",(function(){o(t[1])&&t[1].apply(this,arguments)})),u=!0)},p(e,n){t=e},d(t){t&&c(e),t&&c(n),t&&c(r),u=!1,f()}}}function Bn(e){let n,r,o,i=e[0]&&Hn(e);return{c(){n=l("div"),i&&i.c(),r=p(),o=l("div"),o.innerHTML='<img id="program" alt="Program" class="is-hidden"/>',m(o,"class","column"),m(n,"class","columns is-centered is-vcentered has-text-centered")},m(t,e){a(t,n,e),i&&i.m(n,null),s(n,r),s(n,o)},p(t,[e]){t[0]?i?i.p(t,e):(i=Hn(t),i.c(),i.m(n,r)):i&&(i.d(1),i=null)},i:t,o:t,d(t){t&&c(n),i&&i.d()}}}function In(t,e,n){let{isStudioMode:r}=e,{transitionScene:o}=e;return t.$$set=t=>{"isStudioMode"in t&&n(0,r=t.isStudioMode),"transitionScene"in t&&n(1,o=t.transitionScene)},[r,o]}class Un extends q{constructor(t){super(),j(this,t,In,Bn,i,{isStudioMode:0,transitionScene:1})}}const{document:Nn}=N;function Vn(t,e,n){const r=t.slice();return r[34]=e[n],r}function Yn(t,e,n){const r=t.slice();return r[37]=e[n],r}function Dn(e){let n,r,o=(e[8]||"Not connected")+"";return{c(){n=l("a"),r=h(o),m(n,"class","button is-danger"),m(n,"disabled","")},m(t,e){a(t,n,e),s(n,r)},p(t,e){256&e[0]&&o!==(o=(t[8]||"Not connected")+"")&&w(r,o)},i:t,o:t,d(t){t&&c(n)}}}function zn(t){let e,n,o,i,u,f,h,d,w,y,b,C,_,E,S,k,T,A,$,M;function R(t,e){return t[1]?qn:jn}let L=R(t),x=L(t);const F=[Zn,Wn],P=[];function O(t,e){return t[1]&&t[1].streaming?0:1}o=O(t),i=P[o]=F[o](t);const N=[Jn,Gn],z=[];function j(t,e){return t[1]&&t[1].recording?0:1}return f=j(t),h=z[f]=N[f](t),_=new nt({props:{path:"M15,13H17V11H15M15,21H17V19H15M15,5H17V3H15M19,9H21V7H19M19,5H21V3H19M19,13H21V11H19M19,21H21V19H19M11,21H13V3H11M19,17H21V15H19M7,5H9V3H7M3,17H5V15H3M3,21H5V19H3M3,13H5V11H3M7,13H9V11H7M7,21H9V19H7M3,5H5V3H3M3,9H5V7H3V9Z"}}),T=new nt({props:{path:"M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z"}}),{c(){e=l("a"),x.c(),n=p(),i.c(),u=p(),h.c(),d=p(),w=l("a"),w.textContent="Disconnect",y=p(),b=l("a"),C=l("span"),V(_.$$.fragment),E=p(),S=l("a"),k=l("span"),V(T.$$.fragment),m(e,"class","button is-info is-light"),m(e,"disabled",""),m(w,"class","button is-danger is-light"),m(C,"class","icon"),m(b,"class","button is-link"),m(b,"title","Toggle Studio Mode"),v(b,"is-light",!t[5]),m(k,"class","icon"),m(S,"class","button is-link"),m(S,"title","Show Scene on Top"),v(S,"is-light",!t[6])},m(r,i){a(r,e,i),x.m(e,null),a(r,n,i),P[o].m(r,i),a(r,u,i),z[f].m(r,i),a(r,d,i),a(r,w,i),a(r,y,i),a(r,b,i),s(b,C),Y(_,C,null),a(r,E,i),a(r,S,i),s(S,k),Y(T,k,null),A=!0,$||(M=[g(w,"click",t[23]),g(b,"click",t[11]),g(S,"click",t[12])],$=!0)},p(t,n){L===(L=R(t))&&x?x.p(t,n):(x.d(1),x=L(t),x&&(x.c(),x.m(e,null)));let r=o;o=O(t),o===r?P[o].p(t,n):(H(),U(P[r],1,1,(()=>{P[r]=null})),B(),i=P[o],i?i.p(t,n):(i=P[o]=F[o](t),i.c()),I(i,1),i.m(u.parentNode,u));let s=f;f=j(t),f===s?z[f].p(t,n):(H(),U(z[s],1,1,(()=>{z[s]=null})),B(),h=z[f],h?h.p(t,n):(h=z[f]=N[f](t),h.c()),I(h,1),h.m(d.parentNode,d)),32&n[0]&&v(b,"is-light",!t[5]),64&n[0]&&v(S,"is-light",!t[6])},i(t){A||(I(i),I(h),I(_.$$.fragment,t),I(T.$$.fragment,t),A=!0)},o(t){U(i),U(h),U(_.$$.fragment,t),U(T.$$.fragment,t),A=!1},d(t){t&&c(e),x.d(),t&&c(n),P[o].d(t),t&&c(u),z[f].d(t),t&&c(d),t&&c(w),t&&c(y),t&&c(b),D(_),t&&c(E),t&&c(S),D(T),$=!1,r(M)}}}function jn(e){let n;return{c(){n=h("Connected")},m(t,e){a(t,n,e)},p:t,d(t){t&&c(n)}}}function qn(t){let e,n,r,o,i,s,u=Math.round(t[1].stats.fps)+"",l=Math.round(t[1].stats["cpu-usage"])+"",f=t[1].stats["output-skipped-frames"]+"";return{c(){e=h(u),n=h(" fps, "),r=h(l),o=h("% CPU, "),i=h(f),s=h(" skipped frames")},m(t,c){a(t,e,c),a(t,n,c),a(t,r,c),a(t,o,c),a(t,i,c),a(t,s,c)},p(t,n){2&n[0]&&u!==(u=Math.round(t[1].stats.fps)+"")&&w(e,u),2&n[0]&&l!==(l=Math.round(t[1].stats["cpu-usage"])+"")&&w(r,l),2&n[0]&&f!==(f=t[1].stats["output-skipped-frames"]+"")&&w(i,f)},d(t){t&&c(e),t&&c(n),t&&c(r),t&&c(o),t&&c(i),t&&c(s)}}}function Wn(e){let n,r,o,i,u,f,h,d;return o=new nt({props:{path:"M4.93,4.93C3.12,6.74 2,9.24 2,12C2,14.76 3.12,17.26 4.93,19.07L6.34,17.66C4.89,16.22 4,14.22 4,12C4,9.79 4.89,7.78 6.34,6.34L4.93,4.93M19.07,4.93L17.66,6.34C19.11,7.78 20,9.79 20,12C20,14.22 19.11,16.22 17.66,17.66L19.07,19.07C20.88,17.26 22,14.76 22,12C22,9.24 20.88,6.74 19.07,4.93M7.76,7.76C6.67,8.85 6,10.35 6,12C6,13.65 6.67,15.15 7.76,16.24L9.17,14.83C8.45,14.11 8,13.11 8,12C8,10.89 8.45,9.89 9.17,9.17L7.76,7.76M16.24,7.76L14.83,9.17C15.55,9.89 16,10.89 16,12C16,13.11 15.55,14.11 14.83,14.83L16.24,16.24C17.33,15.15 18,13.65 18,12C18,10.35 17.33,8.85 16.24,7.76M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10Z"}}),{c(){n=l("a"),r=l("span"),V(o.$$.fragment),i=p(),u=l("span"),u.textContent="Start stream",m(r,"class","icon"),m(n,"class","button is-danger")},m(t,c){a(t,n,c),s(n,r),Y(o,r,null),s(n,i),s(n,u),f=!0,h||(d=g(n,"click",e[16]),h=!0)},p:t,i(t){f||(I(o.$$.fragment,t),f=!0)},o(t){U(o.$$.fragment,t),f=!1},d(t){t&&c(n),D(o),h=!1,d()}}}function Zn(t){let e,n,r,o,i,u,f,d,y,v,b,C=t[1].totalStreamTime+"";return r=new nt({props:{path:"M20.84 22.73L12.1 14C12.06 14 12.03 14 12 14C10.9 14 10 13.11 10 12C10 11.97 10 11.94 10 11.9L8.4 10.29C8.15 10.81 8 11.38 8 12C8 13.11 8.45 14.11 9.17 14.83L7.76 16.24C6.67 15.15 6 13.65 6 12C6 10.83 6.34 9.74 6.93 8.82L5.5 7.37C4.55 8.67 4 10.27 4 12C4 14.22 4.89 16.22 6.34 17.66L4.93 19.07C3.12 17.26 2 14.76 2 12C2 9.72 2.77 7.63 4.06 5.95L1.11 3L2.39 1.73L22.11 21.46L20.84 22.73M15.93 12.73L17.53 14.33C17.83 13.61 18 12.83 18 12C18 10.35 17.33 8.85 16.24 7.76L14.83 9.17C15.55 9.89 16 10.89 16 12C16 12.25 15.97 12.5 15.93 12.73M19.03 15.83L20.5 17.28C21.44 15.75 22 13.94 22 12C22 9.24 20.88 6.74 19.07 4.93L17.66 6.34C19.11 7.78 20 9.79 20 12C20 13.39 19.65 14.7 19.03 15.83Z"}}),{c(){e=l("a"),n=l("span"),V(r.$$.fragment),o=p(),i=l("span"),u=h("Stop stream ("),f=h(C),d=h(" secs)"),m(n,"class","icon"),m(e,"class","button is-danger")},m(c,l){a(c,e,l),s(e,n),Y(r,n,null),s(e,o),s(e,i),s(i,u),s(i,f),s(i,d),y=!0,v||(b=g(e,"click",t[17]),v=!0)},p(t,e){(!y||2&e[0])&&C!==(C=t[1].totalStreamTime+"")&&w(f,C)},i(t){y||(I(r.$$.fragment,t),y=!0)},o(t){U(r.$$.fragment,t),y=!1},d(t){t&&c(e),D(r),v=!1,b()}}}function Gn(e){let n,r,o,i,u,f,h,d;return o=new nt({props:{path:"M19,12C19,15.86 15.86,19 12,19C8.14,19 5,15.86 5,12C5,8.14 8.14,5 12,5C15.86,5 19,8.14 19,12Z"}}),{c(){n=l("a"),r=l("span"),V(o.$$.fragment),i=p(),u=l("span"),u.textContent="Start recording",m(r,"class","icon"),m(n,"class","button is-danger")},m(t,c){a(t,n,c),s(n,r),Y(o,r,null),s(n,i),s(n,u),f=!0,h||(d=g(n,"click",e[18]),h=!0)},p:t,i(t){f||(I(o.$$.fragment,t),f=!0)},o(t){U(o.$$.fragment,t),f=!1},d(t){t&&c(n),D(o),h=!1,d()}}}function Jn(t){let e,n,r,o,i,u,f,d,y,v,b,C,_,E,S=t[1].totalRecordTime+"";const k=[Qn,Xn],T=[];function A(t,e){return t[1].recordingPaused?0:1}return e=A(t),n=T[e]=k[e](t),u=new nt({props:{path:"M18,18H6V6H18V18Z"}}),{c(){n.c(),r=p(),o=l("a"),i=l("span"),V(u.$$.fragment),f=p(),d=l("span"),y=h("Stop recording ("),v=h(S),b=h(" secs)"),m(i,"class","icon"),m(o,"class","button is-danger")},m(n,c){T[e].m(n,c),a(n,r,c),a(n,o,c),s(o,i),Y(u,i,null),s(o,f),s(o,d),s(d,y),s(d,v),s(d,b),C=!0,_||(E=g(o,"click",t[19]),_=!0)},p(t,o){let i=e;e=A(t),e===i?T[e].p(t,o):(H(),U(T[i],1,1,(()=>{T[i]=null})),B(),n=T[e],n?n.p(t,o):(n=T[e]=k[e](t),n.c()),I(n,1),n.m(r.parentNode,r)),(!C||2&o[0])&&S!==(S=t[1].totalRecordTime+"")&&w(v,S)},i(t){C||(I(n),I(u.$$.fragment,t),C=!0)},o(t){U(n),U(u.$$.fragment,t),C=!1},d(t){T[e].d(t),t&&c(r),t&&c(o),D(u),_=!1,E()}}}function Xn(e){let n,r,o,i,u,f,h,d;return o=new nt({props:{path:"M14,19H18V5H14M6,19H10V5H6V19Z"}}),{c(){n=l("a"),r=l("span"),V(o.$$.fragment),i=p(),u=l("span"),u.textContent="Pause recording",m(r,"class","icon"),m(n,"class","button is-danger")},m(t,c){a(t,n,c),s(n,r),Y(o,r,null),s(n,i),s(n,u),f=!0,h||(d=g(n,"click",e[20]),h=!0)},p:t,i(t){f||(I(o.$$.fragment,t),f=!0)},o(t){U(o.$$.fragment,t),f=!1},d(t){t&&c(n),D(o),h=!1,d()}}}function Qn(e){let n,r,o,i,u,f,h,d;return o=new nt({props:{path:"M3,5V19L11,12M13,19H16V5H13M18,5V19H21V5"}}),{c(){n=l("a"),r=l("span"),V(o.$$.fragment),i=p(),u=l("span"),u.textContent="Resume recording",m(r,"class","icon"),m(n,"class","button is-danger")},m(t,c){a(t,n,c),s(n,r),Y(o,r,null),s(n,i),s(n,u),f=!0,h||(d=g(n,"click",e[21]),h=!0)},p:t,i(t){f||(I(o.$$.fragment,t),f=!0)},o(t){U(o.$$.fragment,t),f=!1},d(t){t&&c(n),D(o),h=!1,d()}}}function Kn(e){let n,o,i,u,f,d,w,v,b,C,_,E,S,k,T,A="https:"===document.location.protocol&&function(e){let n,r,o,i,u,f,p,d,g,w,y,v,b;return{c(){n=l("div"),r=h("You are checking this page on a secure HTTPS connection. That's great, but it means you can\n          "),o=l("strong"),o.textContent="only",i=h("\n          connect to WSS (secure websocket) hosts, for example OBS exposed with\n          "),u=l("a"),u.textContent="ngrok",f=h("\n          or\n          "),p=l("a"),p.textContent="pagekite",d=h("\n          . If you want to connect to a local OBS instance,\n          "),g=l("strong"),w=l("a"),y=h("please click here to load the non-secure version of this page"),b=h("\n          ."),m(u,"href","https://ngrok.com/"),m(p,"href","https://pagekite.net/"),m(w,"href",v="http://"+document.location.hostname+(document.location.port?":"+document.location.port:"")+document.location.pathname),m(n,"class","notification is-danger")},m(t,e){a(t,n,e),s(n,r),s(n,o),s(n,i),s(n,u),s(n,f),s(n,p),s(n,d),s(n,g),s(g,w),s(w,y),s(n,b)},p:t,d(t){t&&c(n)}}}();return{c(){n=l("h1"),n.innerHTML='Welcome to\n        <strong>OBS-web</strong>\n        - the easiest way to control\n        <a href="https://obsproject.com/" target="_blank">OBS</a>\n        remotely!',o=p(),A&&A.c(),i=p(),u=l("p"),u.textContent='To get started, enter your OBS host below and click "connect".',f=p(),d=l("div"),w=l("p"),v=l("input"),b=p(),C=l("p"),_=l("button"),_.textContent="Connect",E=p(),S=l("p"),S.innerHTML='Make sure that the\n        <a href="https://github.com/Palakis/obs-websocket/releases" target="_blank">obs-websocket plugin</a>\n        is installed and enabled.',m(n,"class","subtitle"),m(v,"id","host"),m(v,"class","input"),m(v,"type","text"),m(v,"placeholder","localhost:4444"),m(w,"class","control is-expanded"),m(_,"class","button is-success"),m(C,"class","control"),m(d,"class","field is-grouped"),m(S,"class","help")},m(t,r){a(t,n,r),a(t,o,r),A&&A.m(t,r),a(t,i,r),a(t,u,r),a(t,f,r),a(t,d,r),s(d,w),s(w,v),y(v,e[7]),s(d,b),s(d,C),s(C,_),a(t,E,r),a(t,S,r),k||(T=[g(v,"keyup",e[24]),g(v,"input",e[26]),g(_,"click",e[22])],k=!0)},p(t,e){"https:"===document.location.protocol&&A.p(t,e),128&e[0]&&v.value!==t[7]&&y(v,t[7])},i:t,o:t,d(t){t&&c(n),t&&c(o),A&&A.d(t),t&&c(i),t&&c(u),t&&c(f),t&&c(d),t&&c(E),t&&c(S),k=!1,r(T)}}}function tr(t){let e,n,r,o,i=t[6]&&er(t),s=t[9],l=[];for(let e=0;e<s.length;e+=1)l[e]=sr(Vn(t,s,e));let f=!t[6]&&ar(t);return{c(){i&&i.c(),e=p();for(let t=0;t<l.length;t+=1)l[t].c();n=p(),f&&f.c(),r=d()},m(t,s){i&&i.m(t,s),a(t,e,s);for(let e=0;e<l.length;e+=1)l[e].m(t,s);a(t,n,s),f&&f.m(t,s),a(t,r,s),o=!0},p(t,o){if(t[6]?i?(i.p(t,o),64&o[0]&&I(i,1)):(i=er(t),i.c(),I(i,1),i.m(e.parentNode,e)):i&&(H(),U(i,1,1,(()=>{i=null})),B()),41516&o[0]){let e;for(s=t[9],e=0;e<s.length;e+=1){const r=Vn(t,s,e);l[e]?l[e].p(r,o):(l[e]=sr(r),l[e].c(),l[e].m(n.parentNode,n))}for(;e<l.length;e+=1)l[e].d(1);l.length=s.length}t[6]?f&&(H(),U(f,1,1,(()=>{f=null})),B()):f?(f.p(t,o),64&o[0]&&I(f,1)):(f=ar(t),f.c(),I(f,1),f.m(r.parentNode,r))},i(t){o||(I(i),I(f),o=!0)},o(t){U(i),U(f),o=!1},d(t){i&&i.d(t),t&&c(e),u(l,t),t&&c(n),f&&f.d(t),t&&c(r)}}}function er(t){let e,n;return e=new Un({props:{isStudioMode:t[5],transitionScene:t[14]}}),{c(){V(e.$$.fragment)},m(t,r){Y(e,t,r),n=!0},p(t,n){const r={};32&n[0]&&(r.isStudioMode=t[5]),e.$set(r)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}function nr(t){let e,n,r,i,u,f=t[37].name+"";return{c(){e=l("a"),n=l("p"),r=h(f),m(n,"class","title has-text-centered is-size-6-mobile"),m(e,"class","tile is-child is-info notification")},m(c,l){a(c,e,l),s(e,n),s(n,r),i||(u=g(e,"click",(function(){o(t[5]?t[15]:t[13])&&(t[5]?t[15]:t[13]).apply(this,arguments)})),i=!0)},p(e,n){t=e,512&n[0]&&f!==(f=t[37].name+"")&&w(r,f)},d(t){t&&c(e),i=!1,u()}}}function rr(t){let e,n,r,o,i,u=t[37].name+"";return{c(){e=l("a"),n=l("p"),r=h(u),m(n,"class","title has-text-centered is-size-6-mobile"),m(e,"class","tile is-child is-warning notification")},m(c,u){a(c,e,u),s(e,n),s(n,r),o||(i=g(e,"click",t[13]),o=!0)},p(t,e){512&e[0]&&u!==(u=t[37].name+"")&&w(r,u)},d(t){t&&c(e),o=!1,i()}}}function or(t){let e,n,r,o=t[37].name+"";return{c(){e=l("a"),n=l("p"),r=h(o),m(n,"class","title has-text-centered is-size-6-mobile"),m(e,"class","tile is-child is-primary notification")},m(t,o){a(t,e,o),s(e,n),s(n,r)},p(t,e){512&e[0]&&o!==(o=t[37].name+"")&&w(r,o)},d(t){t&&c(e)}}}function ir(t){let e;function n(t,e){return t[2]==t[37].name?or:t[3]==t[37].name?rr:nr}let r=n(t),o=r(t);return{c(){e=l("div"),o.c(),m(e,"class","tile is-parent")},m(t,n){a(t,e,n),o.m(e,null)},p(t,i){r===(r=n(t))&&o?o.p(t,i):(o.d(1),o=r(t),o&&(o.c(),o.m(e,null)))},d(t){t&&c(e),o.d()}}}function sr(t){let e,n=t[34],r=[];for(let e=0;e<n.length;e+=1)r[e]=ir(Yn(t,n,e));return{c(){e=l("div");for(let t=0;t<r.length;t+=1)r[t].c();m(e,"class","tile is-ancestor")},m(t,n){a(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,o){if(41516&o[0]){let i;for(n=t[34],i=0;i<n.length;i+=1){const s=Yn(t,n,i);r[i]?r[i].p(s,o):(r[i]=ir(s),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){t&&c(e),u(r,t)}}}function ar(t){let e,n;return e=new Un({props:{isStudioMode:t[5],transitionScene:t[14]}}),{c(){V(e.$$.fragment)},m(t,r){Y(e,t,r),n=!0},p(t,n){const r={};32&n[0]&&(r.isStudioMode=t[5]),e.$set(r)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}function cr(t){let e,n,r,o,i,u,f,h,d,w,y,b,C,_,E,S,k,T,A,$,M,R,L,x;const F=[zn,Dn],P=[];function O(t,e){return t[0]?0:1}d=O(t),w=P[d]=F[d](t),_=new nt({props:{path:t[4]?Z:W}});const N=[tr,Kn],z=[];function j(t,e){return t[0]?0:1}return T=j(t),A=z[T]=N[T](t),{c(){e=p(),n=l("nav"),r=l("div"),r.innerHTML='<a class="navbar-item is-size-4 has-text-weight-bold" href="/"><img src="favicon.png" alt="OBS-web" class="rotate"/>\n       OBS-web</a> \n\n    \n    <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navmenu"><span aria-hidden="true"></span> \n      <span aria-hidden="true"></span> \n      <span aria-hidden="true"></span></a>',o=p(),i=l("div"),u=l("div"),f=l("div"),h=l("div"),w.c(),y=p(),b=l("a"),C=l("span"),V(_.$$.fragment),E=p(),S=l("section"),k=l("div"),A.c(),$=p(),M=l("footer"),M.innerHTML='<div class="content has-text-centered"><p><strong>OBS-web</strong>\n      by\n      <a href="https://niekvandermaas.nl/">Niek van der Maas</a>\n       see\n      <a href="https://github.com/Niek/obs-web">GitHub</a>\n      for source code.</p></div>',Nn.title="OBS-web - control OBS from anywhere",m(r,"class","navbar-brand"),m(C,"class","icon"),m(b,"class","button is-link"),m(b,"title","Toggle Fullscreen"),v(b,"is-light",!t[4]),m(h,"class","buttons"),m(f,"class","navbar-item"),m(u,"class","navbar-end"),m(i,"id","navmenu"),m(i,"class","navbar-menu"),m(n,"class","navbar is-primary"),m(n,"role","navigation"),m(n,"aria-label","main navigation"),m(k,"class","container"),m(S,"class","section"),m(M,"class","footer")},m(c,l){a(c,e,l),a(c,n,l),s(n,r),s(n,o),s(n,i),s(i,u),s(u,f),s(f,h),P[d].m(h,null),s(h,y),s(h,b),s(b,C),Y(_,C,null),a(c,E,l),a(c,S,l),s(S,k),z[T].m(k,null),a(c,$,l),a(c,M,l),R=!0,L||(x=g(b,"click",t[10]),L=!0)},p(t,e){let n=d;d=O(t),d===n?P[d].p(t,e):(H(),U(P[n],1,1,(()=>{P[n]=null})),B(),w=P[d],w?w.p(t,e):(w=P[d]=F[d](t),w.c()),I(w,1),w.m(h,y));const r={};16&e[0]&&(r.path=t[4]?Z:W),_.$set(r),16&e[0]&&v(b,"is-light",!t[4]);let o=T;T=j(t),T===o?z[T].p(t,e):(H(),U(z[o],1,1,(()=>{z[o]=null})),B(),A=z[T],A?A.p(t,e):(A=z[T]=N[T](t),A.c()),I(A,1),A.m(k,null))},i(t){R||(I(w),I(_.$$.fragment,t),I(A),R=!0)},o(t){U(w),U(_.$$.fragment,t),U(A),R=!1},d(t){t&&c(e),t&&c(n),P[d].d(),D(_),t&&c(E),t&&c(S),z[T].d(),t&&c($),t&&c(M),L=!1,x()}}}function ur(t,e,n){let r;const o=new On;_((async()=>{if("serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js"),"wakeLock"in navigator)try{d=await navigator.wakeLock.request("screen"),document.addEventListener("visibilitychange",(async()=>{"visible"===document.visibilityState&&(d=await navigator.wakeLock.request("screen"))}))}catch(t){}document.addEventListener("fullscreenchange",(()=>{n(4,u=document.fullscreenElement)})),document.addEventListener("webkitfullscreenchange",(()=>{n(4,u=document.webkitFullscreenElement)})),document.addEventListener("msfullscreenchange",(()=>{n(4,u=document.msFullscreenElement)}));const t=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);t.length>0&&t.forEach((t=>{t.addEventListener("click",(()=>{const e=document.getElementById(t.dataset.target);t.classList.toggle("is-active"),e.classList.toggle("is-active")}))})),""!==document.location.hash&&(n(7,h=document.location.hash.slice(1)),await b())}));let i,s,a,c,u,l,f,h,p,d=!1,g=[],m="";async function w(t,e){try{return await o.send(t,e||{})}catch(e){return console.log("Error sending command",t," - error is:",e),{}}}async function y(){let t=await w("GetSceneList");n(2,a=t.currentScene),n(25,g=t.scenes.filter((t=>-1===t.name.indexOf("(hidden)")))),l&&o.send("GetPreviewScene").then((t=>n(3,c=t.name))).catch((t=>{})),console.log("Scenes updated")}async function v(){if(i){let t=await w("TakeSourceScreenshot",{sourceName:a,embedPictureFormat:"png",width:960,height:540});if(t&&t.img&&(document.querySelector("#program").src=t.img,document.querySelector("#program").className=""),l){let t=await w("TakeSourceScreenshot",{sourceName:c,embedPictureFormat:"png",width:960,height:540});t&&t.img&&(document.querySelector("#preview").src=t.img,document.querySelector("#preview").classList.remove("is-hidden"))}}setTimeout(v,1e3)}async function b(){n(7,h=h||"localhost:4444");let t="https:"===location.protocol||h.endsWith(":443");if(-1!==h.indexOf("://")){let e=new URL(h);t="wss:"===e.protocol||"https:"===e.protocol,n(7,h=e.hostname+":"+(e.port?e.port:t?443:80))}console.log("Connecting to:",h,"- secure:",t,"- using password:",p),await C(),n(0,i=!1);try{await o.connect({address:h,password:p,secure:t})}catch(t){console.log(t),n(8,m=t.description)}}async function C(){await o.disconnect(),n(0,i=!1),n(8,m="Disconnected")}return o.on("ConnectionClosed",(()=>{n(0,i=!1),window.history.pushState("",document.title,window.location.pathname+window.location.search),console.log("Connection closed")})),o.on("AuthenticationSuccess",(async()=>{console.log("Connected"),n(0,i=!0),document.location.hash=h;const t=(await w("GetVersion")).obsWebsocketVersion||"";console.log("OBS-websocket version:",t),rt(t,"4.8.0")<0&&alert("You are running an outdated OBS-websocket (version "+t+"), please upgrade to the latest version for full compatibility."),await w("SetHeartbeat",{enable:!0}),await async function(){let t=await w("GetStudioModeStatus");n(5,l=t&&t.studioMode||!1)}(),await y(),await v(),document.querySelector("#program").classList.remove("is-hidden")})),o.on("AuthenticationFailure",(async()=>{p=prompt("Please enter your password:",p),null===p?(n(0,i=!1),p=""):await b()})),o.on("Heartbeat",(t=>{n(1,s=t)})),o.on("SwitchScenes",(async t=>{console.log(`New Active Scene: ${t.sceneName}`),await y()})),o.on("error",(t=>{console.error("Socket error:",t)})),o.on("StudioModeSwitched",(async t=>{console.log(`Studio Mode: ${t.newState}`),n(5,l=t.newState),l?await y():n(3,c=!1)})),o.on("PreviewSceneChanged",(async t=>{console.log(`New Preview Scene: ${t.sceneName}`),await y()})),t.$$.update=()=>{33554432&t.$$.dirty[0]&&n(9,r=Array(Math.ceil(g.length/4)).fill().map(((t,e)=>4*e)).map((t=>g.slice(t,t+4))))},[i,s,a,c,u,l,f,h,m,r,function(){u?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen()},async function(){await w("ToggleStudioMode")},async function(){n(6,f=!f)},async function(t){await w("SetCurrentScene",{"scene-name":t.currentTarget.textContent})},async function(t){await w("TransitionToProgram")},async function(t){await w("SetPreviewScene",{"scene-name":t.currentTarget.textContent})},async function(){await w("StartStreaming")},async function(){await w("StopStreaming")},async function(){await w("StartRecording")},async function(){await w("StopRecording")},async function(){await w("PauseRecording")},async function(){await w("ResumeRecording")},b,C,async function(t){"Enter"===t.key&&(await b(),t.preventDefault())},g,function(){h=this.value,n(7,h)}]}return new class extends q{constructor(t){super(),j(this,t,ur,cr,i,{},null,[-1,-1])}}({target:document.body})}();
